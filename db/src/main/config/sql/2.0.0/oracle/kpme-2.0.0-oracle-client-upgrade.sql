--
-- Copyright 2004-2013 The Kuali Foundation
--
-- Licensed under the Educational Community License, Version 2.0 (the "License");
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
-- http://www.opensource.org/licenses/ecl2.php
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an "AS IS" BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
--

-- *********************************************************************
-- Update Database Script
-- *********************************************************************
-- Change Log: src/main/config/db/db.changelog-main-upgrade.xml
-- Ran at: 10/4/13 10:32 AM
-- Against: KPMEJEREMY@jdbc:oracle:thin:@itscs069.its.iastate.edu:1521:kpmedev
-- Liquibase version: 2.0.5
-- *********************************************************************


-- Changeset src/main/config/db/2.0.0/db.changelog-201302211114.xml::1-oracle::dgodfrey::(Checksum: 3:8c73e0dcbfeae6d3c39db93470ecebe2)
-- merge sql file changes
CREATE SEQUENCE PM_INSTITUTION_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201302211114.xml::2::dgodfrey::(Checksum: 3:aad07be0537cf69aea1e0a1fba639322)
-- merge sql file changes
CREATE TABLE PM_INSTITUTION_T (PM_INSTITUTION_ID VARCHAR2(60) NOT NULL, EFFECTIVE_DATE DATE NOT NULL, INSTITUTION_CODE VARCHAR2(15) NOT NULL, DESCRIPTION VARCHAR2(50) NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, CONSTRAINT PK_PM_INSTITUTION_T PRIMARY KEY (PM_INSTITUTION_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201302221700.xml::1-oracle::yingzhou::(Checksum: 3:bfd0c108de1dc58f43740e199aa5ba8d)
CREATE SEQUENCE PM_PSTN_RPT_TYP_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201302221700.xml::2::yingzhou::(Checksum: 3:71325c4d4dbed13057f27f3ec51f2e43)
CREATE TABLE PM_PSTN_RPT_TYP_T (PM_PSTN_RPT_TYP_ID VARCHAR2(60) NOT NULL, PSTN_RPT_TYP VARCHAR2(10) NOT NULL, DESCRIPTION VARCHAR2(100), INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, EFFECTIVE_DATE DATE NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, CONSTRAINT PK_PM_PSTN_RPT_TYP_T PRIMARY KEY (PM_PSTN_RPT_TYP_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201302251355.xml::1::dgodfrey::(Checksum: 3:ba6502df6e76482e8ae8a031f7ba64d9)
-- add timestamp column to institution
ALTER TABLE PM_INSTITUTION_T ADD TIMESTAMP TIMESTAMP NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201302251700.xml::1::yingzhou::(Checksum: 3:1bd03bfe63c5e70140bda02a0f752e94)
ALTER TABLE PM_PSTN_RPT_TYP_T ADD TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS')
/

ALTER TABLE PM_PSTN_RPT_TYP_T ADD OBJ_ID VARCHAR2(36)
/

ALTER TABLE PM_PSTN_RPT_TYP_T ADD VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201302251700.xml::2::yingzhou::(Checksum: 3:efb677dbd97b44ff4d70c8db7fea5263)
ALTER TABLE PM_PSTN_RPT_TYP_T RENAME COLUMN EFFECTIVE_DATE TO EFFDT
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201302251757.xml::1::dgodfrey::(Checksum: 3:f1118ff3fa5324ed6972f9b442996c9c)
-- description should be nullable
ALTER TABLE PM_INSTITUTION_T MODIFY DESCRIPTION NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201302271700.xml::1-oracle::yingzhou::(Checksum: 3:151683b52274aef582292f83b4e1730b)
CREATE SEQUENCE PM_PSTN_RPT_GRP_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201302271700.xml::2::yingzhou::(Checksum: 3:5cb651e1cb310ad9f89c4c2964b5324e)
CREATE TABLE PM_PSTN_RPT_GRP_T (PM_PSTN_RPT_GRP_ID VARCHAR2(60) NOT NULL, PSTN_RPT_GRP VARCHAR2(10) NOT NULL, DESCRIPTION VARCHAR2(100), INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, EFFDT DATE NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_RPT_GRP_T PRIMARY KEY (PM_PSTN_RPT_GRP_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303011700.xml::1-oracle::yingzhou::(Checksum: 3:881f23317e32112c6a28f2d218e0e389)
CREATE SEQUENCE PM_PSTN_RPT_CAT_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303011700.xml::2::yingzhou::(Checksum: 3:23eedb317eaebc6578eecc12c34da1e1)
CREATE TABLE PM_PSTN_RPT_CAT_T (PM_PSTN_RPT_CAT_ID VARCHAR2(60) NOT NULL, PSTN_RPT_CAT VARCHAR2(10) NOT NULL, PSTN_RPT_TYPE VARCHAR2(10) NOT NULL, DESCRIPTION VARCHAR2(100), INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, EFFDT DATE NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_RPT_CAT_T PRIMARY KEY (PM_PSTN_RPT_CAT_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303051440.xml::1::yingzhou::(Checksum: 3:7a31759831b38a173b94f3d795189644)
ALTER TABLE pm_institution_t RENAME COLUMN EFFECTIVE_DATE TO EFFDT
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303061500.xml::1::vchauhan::(Checksum: 3:7d92564548c88c093b8240fe6c66d771)
-- KPME-1959 Unused fields dropped
ALTER TABLE LM_LEAVE_BLOCK_T DROP COLUMN APPLY_TO_YTD_USED
/

ALTER TABLE LM_LEAVE_BLOCK_T DROP COLUMN TK_ASSIGNMENT_ID
/

ALTER TABLE LM_LEAVE_BLOCK_HIST_T DROP COLUMN APPLY_TO_YTD_USED
/

ALTER TABLE LM_LEAVE_BLOCK_HIST_T DROP COLUMN TK_ASSIGNMENT_ID
/

ALTER TABLE TK_TIME_BLOCK_T DROP COLUMN BEGIN_TS_TZ
/

ALTER TABLE TK_TIME_BLOCK_T DROP COLUMN END_TS_TZ
/

ALTER TABLE TK_TIME_BLOCK_HIST_T DROP COLUMN BEGIN_TS_TZ
/

ALTER TABLE TK_TIME_BLOCK_HIST_T DROP COLUMN END_TS_TZ
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303071700.xml::1-oracle::yingzhou::(Checksum: 3:e436862b26a2c3c040afbfd2189e3540)
CREATE SEQUENCE PM_PSTN_RPT_SUB_CAT_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303071700.xml::2::yingzhou::(Checksum: 3:b2504b0a5e454f9b8536d12b819afd68)
CREATE TABLE PM_PSTN_RPT_SUB_CAT_T (PM_PSTN_RPT_SUB_CAT_ID VARCHAR2(60) NOT NULL, PSTN_RPT_SUB_CAT VARCHAR2(10) NOT NULL, PSTN_RPT_CAT VARCHAR2(10) NOT NULL, PSTN_RPT_TYPE VARCHAR2(10) NOT NULL, DESCRIPTION VARCHAR2(100), INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, EFFDT DATE NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_RPT_SUB_CAT_T PRIMARY KEY (PM_PSTN_RPT_SUB_CAT_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303071800.xml::1::vchauhan::(Checksum: 3:a1872a98d2f080d57475d29620b695eb)
-- KPME-2017 Set Nullable = true as per specifications
ALTER TABLE LM_ACCRUAL_CATEGORY_RULES_T MODIFY SERVICE_UNIT_OF_TIME NULL
/

ALTER TABLE LM_ACCRUAL_CATEGORY_RULES_T MODIFY MAX_BAL NULL
/

ALTER TABLE LM_ACCRUAL_CATEGORY_RULES_T MODIFY MAX_BAL_ACTION_FREQUENCY NULL
/

ALTER TABLE LM_ACCRUAL_CATEGORY_RULES_T MODIFY ACTION_AT_MAX_BAL NULL
/

ALTER TABLE LM_ACCRUAL_CATEGORY_RULES_T MODIFY MAX_BAL_FLAG NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303131200.xml::1-oracle::yingzhou::(Checksum: 3:0cf8c2776a45b1ec8b65892f4f16b052)
CREATE SEQUENCE PM_PSTN_RPT_GRP_SUB_CAT_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303131200.xml::2::yingzhou::(Checksum: 3:a75476e8435ff7a6211108faf961cf6d)
CREATE TABLE PM_PSTN_RPT_GRP_SUB_CAT_T (PM_PSTN_RPT_GRP_SUB_CAT_ID VARCHAR2(60) NOT NULL, PSTN_RPT_GRP_SUB_CAT VARCHAR2(10) NOT NULL, PSTN_RPT_GRP VARCHAR2(10) NOT NULL, PSTN_RPT_SUB_CAT VARCHAR2(10) NOT NULL, DESCRIPTION VARCHAR2(100), INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, EFFDT DATE NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_RPT_GRP_SUB_CAT_T PRIMARY KEY (PM_PSTN_RPT_GRP_SUB_CAT_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303221345.xml::1-oracle::dgodfrey::(Checksum: 3:bea77b88b8714c1bd8bfedaa07420e25)
CREATE SEQUENCE PM_PAY_STEP_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303221345.xml::2::dgodfrey::(Checksum: 3:512077a08b2f47250ee6fd331a3186e2)
CREATE TABLE PM_PAY_STEP_T (PM_PAY_STEP_ID VARCHAR2(60) NOT NULL, PAY_STEP VARCHAR2(10) NOT NULL, INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, SALARY_GROUP VARCHAR2(10) NOT NULL, PAY_GRADE VARCHAR2(10) NOT NULL, STEP_NUM NUMBER(3), COMP_RATE DECIMAL, SERVICE_UNIT VARCHAR2(5), SERVICE_AMOUNT NUMBER(3), ACTIVE VARCHAR2(1) NOT NULL, EFFDT DATE NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PAY_STEP_T PRIMARY KEY (PM_PAY_STEP_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303251520.xml::1::dgodfrey::(Checksum: 3:3faefa2fe1796196ac23c3322cda69d0)
ALTER TABLE PM_PAY_STEP_T MODIFY COMP_RATE DECIMAL(3,2)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303281540.xml::1-oracle::yingzhou::(Checksum: 3:914c3af0c93483fccb708587a2cbd9ae)
CREATE SEQUENCE PM_SALARY_GROUP_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303281540.xml::2::yingzhou::(Checksum: 3:9a6f5a6f21cf677c9e8b82b77e70b077)
CREATE TABLE PM_SALARY_GROUP_T (PM_SALARY_GROUP_ID VARCHAR2(60) NOT NULL, SAL_GRP VARCHAR2(10) NOT NULL, DESCRIPTION VARCHAR2(100), INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, PRCT_TM DECIMAL(5,2), PY_MNTHS INTEGER, WRK_MNTHS INTEGER, BNFT_ELIG VARCHAR2(1) NOT NULL, LV_ELIG VARCHAR2(1) NOT NULL, EFFDT DATE NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_SALARY_GROUP_T PRIMARY KEY (PM_SALARY_GROUP_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303291257.xml::8::kbtaylor::(Checksum: 3:80d537955f91b0a9462e40f26c021b4c)
-- Removing unused table
DROP TABLE HR_ROLES_GROUP_T
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303291257.xml::9::kbtaylor::(Checksum: 3:afc6b35ed0025761cbd0cd951a2f513c)
-- Dropping inconsistently used WORK_AREA from HR_POSITION_T
ALTER TABLE HR_POSITION_T DROP COLUMN WORK_AREA
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303291302.xml::1::kbtaylor::(Checksum: 3:840e0e00aa856d3b5399a0cef9658a07)
-- Converting Work Area roles
ALTER TABLE TK_WORK_AREA_T MODIFY OVERTIME_EDIT_ROLE VARCHAR2(80) NOT NULL
/

UPDATE TK_WORK_AREA_T SET OVERTIME_EDIT_ROLE = 'Employee' WHERE OVERTIME_EDIT_ROLE = 'TK_EMPLOYEE'
/

UPDATE TK_WORK_AREA_T SET OVERTIME_EDIT_ROLE = 'Approver Delegate' WHERE OVERTIME_EDIT_ROLE = 'TK_APPROVER_DELEGATE'
/

UPDATE TK_WORK_AREA_T SET OVERTIME_EDIT_ROLE = 'Approver' WHERE OVERTIME_EDIT_ROLE = 'TK_APPROVER'
/

UPDATE TK_WORK_AREA_T SET OVERTIME_EDIT_ROLE = 'Time Department Administrator' WHERE OVERTIME_EDIT_ROLE = 'TK_DEPT_ADMIN'
/

UPDATE TK_WORK_AREA_T SET OVERTIME_EDIT_ROLE = 'Leave Department Administrator' WHERE OVERTIME_EDIT_ROLE = 'LV_DEPT_ADMIN'
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303291545.xml::1::smoaddel::(Checksum: 3:cf6e0603f2b7e82c47a47b63d696a557)
ALTER TABLE hr_pay_grade_t ADD INSTITUTION VARCHAR2(15) DEFAULT '*' NOT NULL
/

ALTER TABLE hr_pay_grade_t ADD CAMPUS VARCHAR2(15) DEFAULT '*' NOT NULL
/

ALTER TABLE hr_pay_grade_t ADD MIN_RATE DECIMAL(10,2)
/

ALTER TABLE hr_pay_grade_t ADD MID_POINT_RATE DECIMAL(10,2)
/

ALTER TABLE hr_pay_grade_t ADD MAX_RATE DECIMAL(10,2)
/

ALTER TABLE hr_pay_grade_t ADD MAX_HIRING_RATE DECIMAL(10,2)
/

ALTER TABLE hr_pay_grade_t ADD RATE_TYPE VARCHAR2(1)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303292000.xml::1-oracle::vchauhan::(Checksum: 3:bee22a5f605fe74104e140b4b5d8c54d)
CREATE SEQUENCE PM_PSTN_TYP_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201303292000.xml::2::vchauhan::(Checksum: 3:55b430cf68144a05971feb676a9c9d6e)
CREATE TABLE PM_PSTN_TYP_T (PM_PSTN_TYP_ID VARCHAR2(60) NOT NULL, PSTN_TYP VARCHAR2(10) NOT NULL, DESCRIPTION VARCHAR2(100), INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, EFFDT DATE NOT NULL, ACADEMIC_FLAG VARCHAR2(1) NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_TYP_T PRIMARY KEY (PM_PSTN_TYP_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304010930.xml::1::yingzhou::(Checksum: 3:915859431f12d38b4e5b57952f976cb5)
ALTER TABLE HR_SAL_GROUP_T ADD INSTITUTION VARCHAR2(15) DEFAULT '*' NOT NULL
/

ALTER TABLE HR_SAL_GROUP_T ADD CAMPUS VARCHAR2(15) DEFAULT '*' NOT NULL
/

ALTER TABLE HR_SAL_GROUP_T ADD PRCT_TM DECIMAL(5,2)
/

ALTER TABLE HR_SAL_GROUP_T ADD PY_MNTHS INTEGER
/

ALTER TABLE HR_SAL_GROUP_T ADD WRK_MNTHS INTEGER
/

ALTER TABLE HR_SAL_GROUP_T ADD BNFT_ELIG VARCHAR2(1) DEFAULT 'N' NOT NULL
/

ALTER TABLE HR_SAL_GROUP_T ADD LV_ELIG VARCHAR2(1) DEFAULT 'N' NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304010930.xml::2::yingzhou::(Checksum: 3:b2994c146e230e7c21e9cf8ef225a149)
-- drop the table that is duplicate
DROP TABLE PM_SALARY_GROUP_T
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304010930.xml::3-oracle::yingzhou::(Checksum: 3:5b8e30b4480fb577c103e51d74a89430)
-- drop the table that is duplicate
DROP SEQUENCE PM_SALARY_GROUP_S
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304021614.xml::2::dgodfrey::(Checksum: 3:89ec0cca52d07f9a812948f07db65866)
-- timestamp default value
ALTER TABLE PM_INSTITUTION_T MODIFY TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS')
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304051130.xml::1::yingzhou::(Checksum: 3:947d76927de9df9daaf95f2102641e2b)
-- kpme-2275, remove pay months
ALTER TABLE HR_SAL_GROUP_T DROP COLUMN PY_MNTHS
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304051130.xml::2::yingzhou::(Checksum: 3:657c465baa5ddc48c753b3a786db4f76)
-- kpme-2275, add leave plan
ALTER TABLE HR_SAL_GROUP_T ADD LV_PLN VARCHAR2(15)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304051340.xml::1::kbtaylor::(Checksum: 3:cd09f2daa1e6316ceaf8ea2641a21446)
-- KPME-1968: Renaming columns for consistency
ALTER TABLE LM_BALANCE_TRANSFER_T RENAME COLUMN EFFECTIVE_DATE TO EFFDT
/

ALTER TABLE LM_LEAVE_PAYOUT_T RENAME COLUMN EFFECTIVE_DATE TO EFFDT
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304051340.xml::2::kbtaylor::(Checksum: 3:f5a8dc150e5387d0983b0a2e48eec739)
-- KPME-1968: Change all date only columns to DATE
ALTER TABLE HR_EARN_CODE_GROUP_T MODIFY EFFDT NULL
/

ALTER TABLE HR_JOB_T MODIFY EFFDT NULL
/

ALTER TABLE HR_LOCATION_T MODIFY EFFDT NULL
/

ALTER TABLE HR_PAY_GRADE_T MODIFY EFFDT NULL
/

ALTER TABLE HR_PAYTYPE_T MODIFY EFFDT NULL
/

ALTER TABLE HR_POSITION_T MODIFY EFFDT NULL
/

ALTER TABLE HR_PRINCIPAL_ATTRIBUTES_T MODIFY EFFDT NULL
/

ALTER TABLE HR_SAL_GROUP_T MODIFY EFFDT NULL
/

ALTER TABLE LM_ACCRUAL_CATEGORY_T MODIFY EFFDT NULL
/

ALTER TABLE LM_BALANCE_TRANSFER_T MODIFY EFFDT NULL
/

ALTER TABLE LM_LEAVE_DONATION_T MODIFY EFFDT NULL
/

ALTER TABLE LM_LEAVE_PAYOUT_T MODIFY EFFDT NULL
/

ALTER TABLE LM_LEAVE_PLAN_T MODIFY EFFDT NULL
/

ALTER TABLE LM_SYS_SCHD_TIMEOFF_T MODIFY EFFDT NULL
/

ALTER TABLE PM_INSTITUTION_T MODIFY EFFDT NULL
/

ALTER TABLE PM_PAY_STEP_T MODIFY EFFDT NULL
/

ALTER TABLE PM_PSTN_RPT_CAT_T MODIFY EFFDT NULL
/

ALTER TABLE PM_PSTN_RPT_GRP_SUB_CAT_T MODIFY EFFDT NULL
/

ALTER TABLE PM_PSTN_RPT_GRP_T MODIFY EFFDT NULL
/

ALTER TABLE PM_PSTN_RPT_SUB_CAT_T MODIFY EFFDT NULL
/

ALTER TABLE PM_PSTN_RPT_TYP_T MODIFY EFFDT NULL
/

ALTER TABLE PM_PSTN_TYP_T MODIFY EFFDT NULL
/

ALTER TABLE TK_ASSIGNMENT_T MODIFY EFFDT NULL
/

ALTER TABLE TK_DEPT_LUNCH_RL_T MODIFY EFFDT NULL
/

ALTER TABLE TK_SYSTEM_LUNCH_RL_T MODIFY EFFDT NULL
/

ALTER TABLE TK_TASK_T MODIFY EFFDT NULL
/

ALTER TABLE TK_WORK_AREA_T MODIFY EFFDT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304080900.xml::1-oracle::yingzhou::(Checksum: 3:f4a1976332fd9b4e19eab19aed32b8b2)
CREATE SEQUENCE PM_PSTN_FLG_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304080900.xml::2::yingzhou::(Checksum: 3:3cab0eda8c7455fae5cc76b69a401c8a)
CREATE TABLE PM_PSTN_FLG_T (PM_PSTN_FLG_ID VARCHAR2(60) NOT NULL, CTGRY VARCHAR2(50) NOT NULL, PSTN_FLG_NM VARCHAR2(20) NOT NULL, EFFDT DATE, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_FLG_T PRIMARY KEY (PM_PSTN_FLG_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304081400.xml::1::vchauhan::(Checksum: 3:a5226895d1aa95618a463a986e66f190)
-- kpme-2244 : Remove Academic Flag
ALTER TABLE PM_PSTN_TYP_T DROP COLUMN ACADEMIC_FLAG
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304111700.xml::1-oracle::yingzhou::(Checksum: 3:e49174b6346712d42a249ca19a2fa40a)
CREATE SEQUENCE PM_PSTN_QLFCTN_VL_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304111700.xml::2::yingzhou::(Checksum: 3:0309d03fbf7d43c3ac1186e5733ea47d)
CREATE TABLE PM_PSTN_QLFCTN_VL_T (PM_PSTN_QLFCTN_VL_ID VARCHAR2(60) NOT NULL, VL_NM VARCHAR2(20) NOT NULL, OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_QLFCTN_VL_T PRIMARY KEY (PM_PSTN_QLFCTN_VL_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304111700.xml::3-oracle::yingzhou::(Checksum: 3:9776437f785b74491f375d3016ffbd96)
CREATE SEQUENCE PM_PSTN_QLFR_TYP_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304111700.xml::4::yingzhou::(Checksum: 3:a062b51562a431941b447436e9cdb2fb)
CREATE TABLE PM_PSTN_QLFR_TYP_T (PM_PSTN_FLG_ID VARCHAR2(60) NOT NULL, CODE VARCHAR2(20) NOT NULL, TYPE VARCHAR2(20) NOT NULL, SELECT_VALUES VARCHAR2(100), EFFDT DATE, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_QLFR_TYP_T PRIMARY KEY (PM_PSTN_FLG_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304161730.xml::2::yingzhou::(Checksum: 3:a697df064ad1e0dad4d3fd4904a2f751)
ALTER TABLE PM_PSTN_QLFR_TYP_T ADD TYPE_VL VARCHAR2(20) NOT NULL
/

ALTER TABLE PM_PSTN_QLFR_TYP_T ADD DESCR VARCHAR2(100)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304221222.xml::1-oracle::henrydfs::(Checksum: 3:0a0712a8e69af0baa467efa28de687eb)
CREATE SEQUENCE PM_PSTN_APPOINTMENT_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304221222.xml::2::henrydfs::(Checksum: 3:c8a35395503e5d294f2eb31641dbb1e9)
CREATE TABLE PM_PSTN_APPOINTMENT_T (PM_PSTN_APPOINTMENT_ID VARCHAR2(60) NOT NULL, PSTN_APPOINTMENT VARCHAR2(15) NOT NULL, DESCRIPTION VARCHAR2(100), INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, EFFDT DATE NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_APPOINTMENT_T PRIMARY KEY (PM_PSTN_APPOINTMENT_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304231230.xml::1-oracle::yingzhou::(Checksum: 3:e705497063705f34eeb1c2d9001420a0)
CREATE SEQUENCE PM_PSTN_CL_QLFCTN_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304231230.xml::2::yingzhou::(Checksum: 3:f8a3c4719d2dafcf282f7c32f8ccd339)
CREATE TABLE PM_PSTN_CL_QLFCTN_T (PM_PSTN_CL_QLFCTN_ID VARCHAR2(60) NOT NULL, QLFCTN_TP VARCHAR2(20) NOT NULL, QUALIFIER VARCHAR2(10) NOT NULL, QLFCTN_VL VARCHAR2(50) NOT NULL, PM_PSTN_CL_ID VARCHAR2(60) NOT NULL, DSPLY_ORDER VARCHAR2(2) NOT NULL, EFFDT DATE, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_CL_QLFCTN_T PRIMARY KEY (PM_PSTN_CL_QLFCTN_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304231230.xml::3-oracle::yingzhou::(Checksum: 3:0d5951e66e04ec368d0bb824a6c54edb)
CREATE SEQUENCE PM_PSTN_CL_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304231230.xml::4::yingzhou::(Checksum: 3:17d390f8dea654bd50ebdb78fd142331)
CREATE TABLE PM_PSTN_CL_T (PM_PSTN_CL_ID VARCHAR2(60) NOT NULL, PSTN_CL VARCHAR2(50) NOT NULL, CL_TTL VARCHAR2(100) NOT NULL, INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, SAL_GROUP VARCHAR2(10) NOT NULL, PRCT_TM DECIMAL(5,2), BNFT_ELIG VARCHAR2(1) DEFAULT 'N' NOT NULL, LV_ELIG VARCHAR2(1) DEFAULT 'N' NOT NULL, LV_PLN VARCHAR2(15), PSTN_RPT_GRP VARCHAR2(10) NOT NULL, POOL_ELIG VARCHAR2(1) DEFAULT 'N' NOT NULL, TNR_ELIG VARCHAR2(1) DEFAULT 'N' NOT NULL, EXTRNL_RFRNC VARCHAR2(100), EFFDT DATE, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_CL_T PRIMARY KEY (PM_PSTN_CL_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304231500.xml::1::yingzhou::(Checksum: 3:4a68cedf7dbd3d4bd0aaa3116cdf3edf)
-- kpme-2291, remove work months
ALTER TABLE HR_SAL_GROUP_T DROP COLUMN WRK_MNTHS
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304240950.xml::1-oracle::jkakkad::(Checksum: 3:bfbca44749315eedcf7a3b81f4bc0c80)
CREATE SEQUENCE PM_PSTN_DEPT_AFFL_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304240950.xml::2::jkakkad::(Checksum: 3:76418e18def2be1ccb42c3d91ef3f235)
CREATE TABLE PM_PSTN_DEPT_AFFL_T (PM_PSTN_DEPT_AFFL_ID VARCHAR2(60) NOT NULL, PSTN_DEPT_AFFL_TYP VARCHAR2(60) NOT NULL, EFFDT DATE NOT NULL, PRIMARY_INDICATOR VARCHAR2(1) NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_DEPT_AFFL_T PRIMARY KEY (PM_PSTN_DEPT_AFFL_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304240950.xml::3-oracle::jkakkad::(Checksum: 3:cb37fe5e25cea8f6955e673c4879c8db)
CREATE SEQUENCE PM_PSTN_DEPT_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304240950.xml::4::jkakkad::(Checksum: 3:f65ed5e82204f5af2aba29bde9ea9e46)
CREATE TABLE PM_PSTN_DEPT_T (PM_PSTN_DEPT_ID VARCHAR2(60) NOT NULL, INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, DEPT VARCHAR2(21) NOT NULL, PSTN_DEPT_AFFL_TYP VARCHAR2(60) NOT NULL, EFFDT DATE NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_DEPT_T PRIMARY KEY (PM_PSTN_DEPT_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304241400.xml::1-oracle::vchauhan::(Checksum: 3:68f6f2b0bf82dae47535571f5983d899)
CREATE SEQUENCE PM_PSTN_CNTRCT_TYP_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201304241400.xml::2::vchauhan::(Checksum: 3:9815b9a9cb6840439798fd1c9ea00b7a)
CREATE TABLE PM_PSTN_CNTRCT_TYP_T (PM_CNTRCT_TYP_ID VARCHAR2(60) NOT NULL, NAME VARCHAR2(10) NOT NULL, DESCRIPTION VARCHAR2(100), INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, EFFDT DATE NOT NULL, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_CNTRCT_TYP_T PRIMARY KEY (PM_CNTRCT_TYP_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305011430.xml::1::yingzhou::(Checksum: 3:f2dc2329b51d0097989fe01a4be4e272)
ALTER TABLE PM_PSTN_CL_QLFCTN_T ADD CONSTRAINT FK_PSTNCL_QLFCTN FOREIGN KEY (PM_PSTN_CL_ID) REFERENCES PM_PSTN_CL_T (PM_PSTN_CL_ID)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305011430.xml::2::yingzhou::(Checksum: 3:30663bb4a34bdba8cfbaff0a527b4acf)
ALTER TABLE PM_PSTN_CL_T ADD PSTN_TYP VARCHAR2(10) NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305011430.xml::3::yingzhou::(Checksum: 3:7a8a443be96835b6ad45297329ed54e8)
ALTER TABLE PM_PSTN_CL_QLFCTN_T DROP COLUMN DSPLY_ORDER
/

ALTER TABLE PM_PSTN_CL_QLFCTN_T DROP COLUMN EFFDT
/

ALTER TABLE PM_PSTN_CL_QLFCTN_T DROP COLUMN ACTIVE
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305021700.xml::1-oracle::yingzhou::(Checksum: 3:d769ef7c4ed6937625e053cfeb2fbb15)
CREATE SEQUENCE PM_PSTN_CL_DUTY_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305021700.xml::2::yingzhou::(Checksum: 3:d728f53d5ba89eb28e4345c06e749ccd)
CREATE TABLE PM_PSTN_CL_DUTY_T (PM_DUTY_ID VARCHAR2(60) NOT NULL, NAME VARCHAR2(20) NOT NULL, DESCR VARCHAR2(300) NOT NULL, PRCTG DECIMAL(5,2), PM_PSTN_CL_ID VARCHAR2(60) NOT NULL, OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_CL_DUTY_T PRIMARY KEY (PM_DUTY_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305021700.xml::3::yingzhou::(Checksum: 3:92436107baf8df1808f22d4147dfd30e)
ALTER TABLE PM_PSTN_CL_DUTY_T ADD CONSTRAINT FK_PSTNCL_DUTY FOREIGN KEY (PM_PSTN_CL_ID) REFERENCES PM_PSTN_CL_T (PM_PSTN_CL_ID)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305031040.xml::1::tkagata::(Checksum: 3:8fcabb4f78b05dcd2a6a57f6a9baa39d)
-- KPME-2252 institution, campus, flsa status and pay frequency added on paytype maint doc
ALTER TABLE hr_paytype_t ADD INSTITUTION VARCHAR2(15) DEFAULT '*' NOT NULL
/

ALTER TABLE hr_paytype_t ADD CAMPUS VARCHAR2(15) DEFAULT '*' NOT NULL
/

ALTER TABLE hr_paytype_t ADD FLSA_STATUS VARCHAR2(15) DEFAULT 'NE' NOT NULL
/

ALTER TABLE hr_paytype_t ADD PAY_FREQUENCY VARCHAR2(15) DEFAULT 'M' NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305060909.xml::1::kbtaylor::(Checksum: 3:a6e6a7e087046b230c1ebd571a8b0d2d)
DROP TABLE TK_MISSED_PUNCH_T
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305060909.xml::2::kbtaylor::(Checksum: 3:6dfdfbcf3c1fc54d05779e6f4dd9dcf4)
CREATE TABLE TK_MISSED_PUNCH_T (TK_MISSED_PUNCH_ID VARCHAR2(60) NOT NULL, DOC_HDR_ID VARCHAR2(14) NOT NULL, PRINCIPAL_ID VARCHAR2(40) NOT NULL, TIMESHEET_DOCUMENT_ID VARCHAR2(14) NOT NULL, JOB_NUMBER NUMBER(38,0), WORK_AREA NUMBER(38,0), TASK NUMBER(38,0), ACTION_DATE TIMESTAMP NOT NULL, CLOCK_ACTION VARCHAR2(20) NOT NULL, TK_CLOCK_LOG_ID VARCHAR2(60), TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_TK_MISSED_PUNCH_T PRIMARY KEY (TK_MISSED_PUNCH_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305060909.xml::3-oracle::kbtaylor::(Checksum: 3:5adecabd9e8871b56c467ec94ad69506)
INSERT INTO TK_MISSED_PUNCH_T (TK_MISSED_PUNCH_ID, DOC_HDR_ID, PRINCIPAL_ID, TIMESHEET_DOCUMENT_ID, JOB_NUMBER, WORK_AREA, TASK, ACTION_DATE, CLOCK_ACTION, TK_CLOCK_LOG_ID, TIMESTAMP, OBJ_ID, VER_NBR) 
                SELECT TK_MISSED_PUNCH_S.NEXTVAL, DOC_HDR_ID, PRINCIPAL_ID, TIMESHEET_DOC_ID, REGEXP_SUBSTR(ASSIGNMENT, '[^_]+', 1, 1), 
                       REGEXP_SUBSTR(ASSIGNMENT, '[^_]+', 1, 2), REGEXP_SUBSTR(ASSIGNMENT, '[^_]+', 1, 3), 
                       TO_DATE(TO_CHAR(ACTION_DATE, 'MM/DD/YYYY ') || TO_CHAR(ACTION_TIME, 'HH24:MI:SS'), 'MM/DD/YYYY HH24:MI:SS'), CLOCK_ACTION, 
                       TK_CLOCK_LOG_ID, TIMESTAMP, OBJ_ID, VER_NBR FROM TK_MISSED_PUNCH_DOC_T
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305060909.xml::4::kbtaylor::(Checksum: 3:5ecee3037fd2363e963e503fc102b4d1)
DROP TABLE TK_MISSED_PUNCH_DOC_T
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305060909.xml::5::kbtaylor::(Checksum: 3:f99949b5465a1acfe859741b8812487d)
CREATE TABLE TK_MISSED_PUNCH_DOC_T (DOC_HDR_ID VARCHAR2(14) NOT NULL, TK_MISSED_PUNCH_ID VARCHAR2(60) NOT NULL, OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_TK_MISSED_PUNCH_DOC_T PRIMARY KEY (DOC_HDR_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305060909.xml::6::kbtaylor::(Checksum: 3:d024ea11a4690359cdfdc366de1c42d8)
INSERT INTO TK_MISSED_PUNCH_DOC_T (DOC_HDR_ID, TK_MISSED_PUNCH_ID, OBJ_ID, VER_NBR) 
                SELECT DOC_HDR_ID, TK_MISSED_PUNCH_ID, SYS_GUID(), '1' FROM TK_MISSED_PUNCH_T
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305060909.xml::7::kbtaylor::(Checksum: 3:df358b2e430fd4a138b16beac4d1dd49)
ALTER TABLE TK_MISSED_PUNCH_T DROP COLUMN DOC_HDR_ID
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305071700.xml::1-oracle::yingzhou::(Checksum: 3:60cdf695a2cdb24e9874f4ee59f3bec6)
CREATE SEQUENCE PM_PSTN_CL_FLAG_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305071700.xml::2::yingzhou::(Checksum: 3:d61c3327f42c4c2ecfce7f8f61a6a934)
CREATE TABLE PM_PSTN_CL_FLAG_T (PM_FLAG_ID VARCHAR2(60) NOT NULL, CATEGORY VARCHAR2(20) NOT NULL, NAMES VARCHAR2(100) NOT NULL, PM_PSTN_CL_ID VARCHAR2(60) NOT NULL, OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_CL_FLAG_T PRIMARY KEY (PM_FLAG_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305071700.xml::3::yingzhou::(Checksum: 3:0091cae346a9d7be21ccda821b116fb6)
ALTER TABLE PM_PSTN_CL_FLAG_T ADD CONSTRAINT FK_PSTNCL_FLAG FOREIGN KEY (PM_PSTN_CL_ID) REFERENCES PM_PSTN_CL_T (PM_PSTN_CL_ID)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305131700.xml::1::yingzhou::(Checksum: 3:2799ba57825cf7717daf8d5c63927800)
ALTER TABLE PM_PSTN_QLFR_TYP_T RENAME COLUMN PM_PSTN_FLG_ID TO PM_PSTN_QLFR_TYP_ID
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305151400.xml::1-oracle::nrmalae::(Checksum: 3:98b34eaebec9973df7b708a87cf993c2)
CREATE SEQUENCE PSTN_RPS_OPT_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305151400.xml::2::nrmalae::(Checksum: 3:5d4fa8c0f6ec1662988fdf1f6f6381c1)
CREATE TABLE PSTN_RPS_OPT_T (PSTN_RPS_OPT_ID VARCHAR2(60) NOT NULL, NAME VARCHAR2(50) NOT NULL, DESCRIPTION VARCHAR2(500) NOT NULL, EFFDT DATE, ACTIVE VARCHAR2(1) NOT NULL, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PSTN_RPS_OPT_T PRIMARY KEY (PSTN_RPS_OPT_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305161700.xml::1-oracle::yingzhou::(Checksum: 3:ca6018b9aea1b9e83aaa099cb938e939)
CREATE SEQUENCE PM_PSTN_DUTY_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305161700.xml::2::yingzhou::(Checksum: 3:c0687a50dc55291909d20f4ab3a0ff82)
CREATE TABLE PM_PSTN_DUTY_T (PM_DUTY_ID VARCHAR2(60) NOT NULL, NAME VARCHAR2(20) NOT NULL, DESCR VARCHAR2(300) NOT NULL, PRCTG DECIMAL(5,2), HR_PSTN_ID VARCHAR2(60) NOT NULL, OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_DUTY_T PRIMARY KEY (PM_DUTY_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305161700.xml::3-oracle::yingzhou::(Checksum: 3:8dd373c2b606f73f9eed7a5b63f688f7)
CREATE SEQUENCE PM_PSTN_QLFCTN_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305161700.xml::4::yingzhou::(Checksum: 3:3f39478549415593f456893e48bba1c0)
CREATE TABLE PM_PSTN_QLFCTN_T (PM_PSTN_QLFCTN_ID VARCHAR2(60) NOT NULL, QLFCTN_TP VARCHAR2(20) NOT NULL, QUALIFIER VARCHAR2(10) NOT NULL, QLFCTN_VL VARCHAR2(50) NOT NULL, HR_PSTN_ID VARCHAR2(60) NOT NULL, OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_QLFCTN_T PRIMARY KEY (PM_PSTN_QLFCTN_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305161700.xml::5-oracle::yingzhou::(Checksum: 3:f70d499e7e8f77d0250df3d75bfd15c5)
CREATE SEQUENCE PM_PSTN_FLAG_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305161700.xml::6::yingzhou::(Checksum: 3:2b3dc53ca56f257fa2803660f533dc93)
CREATE TABLE PM_PSTN_FLAG_T (PM_FLAG_ID VARCHAR2(60) NOT NULL, CATEGORY VARCHAR2(20) NOT NULL, NAMES VARCHAR2(100) NOT NULL, HR_PSTN_ID VARCHAR2(60) NOT NULL, OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_FLAG_T PRIMARY KEY (PM_FLAG_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305171700.xml::1::yingzhou::(Checksum: 3:efda38cb1b75afbd2791ebd76225f88c)
ALTER TABLE PM_PSTN_DUTY_T ADD CONSTRAINT FK_PSTN_DUTY FOREIGN KEY (HR_PSTN_ID) REFERENCES HR_POSITION_T (HR_POSITION_ID)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305171700.xml::2::yingzhou::(Checksum: 3:05445352a722507e63a53846407f35ae)
ALTER TABLE PM_PSTN_QLFCTN_T ADD CONSTRAINT FK_PSTN_QLFCTN FOREIGN KEY (HR_PSTN_ID) REFERENCES HR_POSITION_T (HR_POSITION_ID)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305171700.xml::3::yingzhou::(Checksum: 3:73f1df3de52a496d49be075f33d03fed)
ALTER TABLE PM_PSTN_FLAG_T ADD CONSTRAINT FK_PSTN_FLAG FOREIGN KEY (HR_PSTN_ID) REFERENCES HR_POSITION_T (HR_POSITION_ID)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305211400.xml::1-oracle::nrmalae::(Checksum: 3:b2a8fac4f2d334acd891c3b22ddd98a9)
CREATE SEQUENCE PM_PSTN_RPS_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305211400.xml::1::nrmalae::(Checksum: 3:8ed9130ccbbeb864bb3cc4777be3298b)
CREATE TABLE PM_PSTN_RPS_T (PM_PSTN_RPS_ID VARCHAR2(60) NOT NULL, INSTITUTION VARCHAR2(15) NOT NULL, CAMPUS VARCHAR2(15) NOT NULL, HR_PSTN_ID VARCHAR2(60) NOT NULL, PRCT_TM DECIMAL(5,2), ACTIVE VARCHAR2(1) NOT NULL, EFFDT DATE, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_RPS_T PRIMARY KEY (PM_PSTN_RPS_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305211400.xml::2::nrmalae::(Checksum: 3:b17af81778a6974a4c271876a66f609a)
ALTER TABLE PM_PSTN_RPS_T ADD CONSTRAINT FK_PSTN_RPS FOREIGN KEY (HR_PSTN_ID) REFERENCES HR_POSITION_T (HR_POSITION_ID)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305231400.xml::1::yingzhou::(Checksum: 3:99b430177d8720d88f7f75cd013f6aae)
ALTER TABLE hr_position_t ADD PM_PSTN_CL_ID VARCHAR2(60) DEFAULT '0' NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305271310.xml::1::jkakkad::(Checksum: 3:6d7e2bddf116beaf4fdbb7acabd841b7)
-- KPME-2379 : Changed Campus references to Location for Position Management
ALTER TABLE PM_PSTN_CL_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PAY_STEP_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PSTN_APPOINTMENT_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PSTN_DEPT_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PSTN_RPT_CAT_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PSTN_RPT_GRP_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PSTN_RPT_TYP_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PSTN_RPT_SUB_CAT_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PSTN_RPT_GRP_SUB_CAT_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PSTN_TYP_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PSTN_CNTRCT_TYP_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE PM_PSTN_RPS_T RENAME COLUMN CAMPUS TO LOCATION
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305291400.xml::1::yingzhou::(Checksum: 3:43a8f9735313c428ef2461ebe2b1f4eb)
ALTER TABLE PM_PSTN_CL_QLFCTN_T DROP COLUMN TIMESTAMP
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305311700.xml::1-oracle::yingzhou::(Checksum: 3:386074ae742335335a64307264a42e64)
CREATE SEQUENCE PM_PSTN_FNDNG_S START WITH 10000
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305311700.xml::2::yingzhou::(Checksum: 3:a3ce959fd48c87d789da559a21682b79)
CREATE TABLE PM_PSTN_FNDNG_T (PM_PSTN_FNDNG_ID VARCHAR2(60) NOT NULL, HR_PSTN_ID VARCHAR2(60) NOT NULL, CHART VARCHAR2(50), ORG VARCHAR2(50), ACCNT VARCHAR2(50) NOT NULL, SUB_ACCNT VARCHAR2(50), OBJ_CD VARCHAR2(50) NOT NULL, SUB_OBJ_CD VARCHAR2(50), ORG_REF_CD VARCHAR2(50), PRCNT DECIMAL(5,2), AMNT DECIMAL(5,2), PRIORITY_FLG VARCHAR2(1), ACTIVE VARCHAR2(1) NOT NULL, EFFDT DATE, TIMESTAMP TIMESTAMP DEFAULT to_date('1970-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS'), OBJ_ID VARCHAR2(36), VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL, CONSTRAINT PK_PM_PSTN_FNDNG_T PRIMARY KEY (PM_PSTN_FNDNG_ID))
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201305311700.xml::3::yingzhou::(Checksum: 3:230ac2377d672dd37f36d82148b292ac)
ALTER TABLE PM_PSTN_FNDNG_T ADD CONSTRAINT FK_PSTN_FNDNG FOREIGN KEY (HR_PSTN_ID) REFERENCES HR_POSITION_T (HR_POSITION_ID)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201306101700.xml::1::yingzhou::(Checksum: 3:6eb01a8608baced1e0f8fe0eb2fd7737)
ALTER TABLE HR_SAL_GROUP_T RENAME COLUMN CAMPUS TO LOCATION
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201306131530.xml::1::yingzhou::(Checksum: 3:a1665aea673ddfb12f087ce009470b3a)
ALTER TABLE HR_PAY_GRADE_T RENAME COLUMN CAMPUS TO LOCATION
/

ALTER TABLE HR_PAYTYPE_T RENAME COLUMN CAMPUS TO LOCATION
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201307021330.xml::1::yingzhou::(Checksum: 3:cd898b913ec7b5fc06538a84a89ba35b)
ALTER TABLE TK_WORK_AREA_T ADD HRS_DISTRIBUTION_FL VARCHAR2(1)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201307021330.xml::2::yingzhou::(Checksum: 3:441b2180b0f98c4a0683319727edf131)
ALTER TABLE TK_TIME_COLLECTION_RL_T DROP COLUMN HRS_DISTRIBUTION_FL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201307021700.xml::1::yingzhou::(Checksum: 3:594c4398d43f580a7a09bff24752b0df)
ALTER TABLE HR_DEPT_T ADD PYRLL_APPRVL VARCHAR2(1)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201307091000.xml::1::jkakkad::(Checksum: 3:b7123ca4b776e88f276f1595b625c983)
ALTER TABLE HR_EARN_CODE_T ADD COUNT_AS_REG_PAY VARCHAR2(5) DEFAULT 'N'
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201307091700.xml::1::tkagata::(Checksum: 3:c92e56ab859f6229ab50bdeb5390aee8)
ALTER TABLE hr_earn_code_security_t ADD PAYROLLPROCESSOR VARCHAR2(1) DEFAULT 'N' NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201307231546.xml::1'::dgodfrey::(Checksum: 3:dd3d7d182bb41c4ef5ebafb3ac3e0c55)
-- Adding batch_payroll_approval_date column to hr_calendar_entries_t
ALTER TABLE HR_CALENDAR_ENTRIES_T ADD BATCH_PAYROLL_APPROVAL_DATE TIMESTAMP
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201307291157.xml::1::dgodfrey::(Checksum: 3:8796e1dcdadab8dc0efcb411bab36199)
-- Adding versioning and obj_id to institution
ALTER TABLE PM_INSTITUTION_T ADD OBJ_ID VARCHAR2(36)
/

ALTER TABLE PM_INSTITUTION_T ADD VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201307291157.xml::2::dgodfrey::(Checksum: 3:73525946aed8e651c0a6b7507c140a3d)
-- Creating index for pm_institution_t
CREATE UNIQUE INDEX PM_INSTITUTION_IDX1 ON PM_INSTITUTION_T(INSTITUTION_CODE, EFFDT, TIMESTAMP)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201308011700.xml::1::yingzhou::(Checksum: 3:71349b39a39f25c77c69b16de17a2cbb)
ALTER TABLE PM_PSTN_RPT_GRP_SUB_CAT_T MODIFY PSTN_RPT_GRP_SUB_CAT VARCHAR2(20)
/

ALTER TABLE PM_PSTN_RPT_GRP_SUB_CAT_T MODIFY PSTN_RPT_SUB_CAT VARCHAR2(20)
/

ALTER TABLE PM_PSTN_QLFR_TYP_T MODIFY CODE VARCHAR2(40)
/

ALTER TABLE PM_PSTN_QLFR_TYP_T MODIFY TYPE VARCHAR2(40)
/

ALTER TABLE PM_PSTN_RPT_SUB_CAT_T MODIFY PSTN_RPT_CAT VARCHAR2(30)
/

ALTER TABLE PM_PSTN_RPT_SUB_CAT_T MODIFY PSTN_RPT_SUB_CAT VARCHAR2(20)
/

ALTER TABLE PM_PSTN_RPT_CAT_T MODIFY PSTN_RPT_CAT VARCHAR2(30)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201308021701.xml::1::jkakkad::(Checksum: 3:76f47cee40d3de0ffab5f420c0be14fc)
-- KPME-2606 : Dropping Location Index from Department
DROP INDEX HR_DEPT_IDX3
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201308021701.xml::2::jkakkad::(Checksum: 3:e374e4e79b021e81c87e039d0807dda4)
-- KPME-2606 : Adding versionNumber and objectId to Location's db
ALTER TABLE HR_LOCATION_T ADD OBJ_ID VARCHAR2(36)
/

ALTER TABLE HR_LOCATION_T ADD VER_NBR NUMBER(38,0) DEFAULT 1 NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201308131400.xml::1::henrydfs::(Checksum: 3:5a30a2fa70ef8e8b55614182b2b373f3)
-- KPME-2583 fields added on position maint doc
ALTER TABLE hr_position_t ADD INSTITUTION VARCHAR2(15) DEFAULT '*' NOT NULL
/

ALTER TABLE hr_position_t ADD CAMPUS VARCHAR2(15) DEFAULT '*' NOT NULL
/

ALTER TABLE hr_position_t ADD SAL_GROUP VARCHAR2(10) DEFAULT '*' NOT NULL
/

ALTER TABLE hr_position_t ADD CL_TTL VARCHAR2(100) DEFAULT 'test' NOT NULL
/

ALTER TABLE hr_position_t ADD WK_PSTN_TTL VARCHAR2(100) DEFAULT 'test' NOT NULL
/

ALTER TABLE hr_position_t ADD PRCT_TM DECIMAL(5,2) DEFAULT '99.99'
/

ALTER TABLE hr_position_t ADD WK_MONTHS NUMBER(3) DEFAULT '12' NOT NULL
/

ALTER TABLE hr_position_t ADD BNFT_ELIG VARCHAR2(1) DEFAULT 'N' NOT NULL
/

ALTER TABLE hr_position_t ADD LV_ELIG VARCHAR2(1) DEFAULT 'N' NOT NULL
/

ALTER TABLE hr_position_t ADD LV_PLN VARCHAR2(15)
/

ALTER TABLE hr_position_t ADD PSTN_RPT_GRP VARCHAR2(10) DEFAULT 'test' NOT NULL
/

ALTER TABLE hr_position_t ADD PSTN_TYP VARCHAR2(10) DEFAULT 'test' NOT NULL
/

ALTER TABLE hr_position_t ADD POOL_ELIG VARCHAR2(1) DEFAULT 'N' NOT NULL
/

ALTER TABLE hr_position_t ADD MAX_POOL NUMBER(3)
/

ALTER TABLE hr_position_t ADD TNR_ELIG VARCHAR2(1) DEFAULT 'N' NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201308131600.xml::1::yingzhou::(Checksum: 3:6868f6ca0b064260407b5eb84103d6a8)
ALTER TABLE PM_PSTN_CL_T MODIFY EXTRNL_RFRNC VARCHAR2(200)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201309061050.xml::1::vchauhan::(Checksum: 3:df1530932e7a08fe933a89a3da6e9859)
-- update constraint for Department
DROP INDEX HR_DEPT_IDX1
/

CREATE UNIQUE INDEX HR_DEPT_IDX1 ON HR_DEPT_T(DEPT, EFFDT, TIMESTAMP)
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201309091500.xml::1::yingzhou::(Checksum: 3:f2eec030f6db4578cb4bd0ad3ea489d3)
-- Make job_number and work_area not nullable in assignment
UPDATE TK_ASSIGNMENT_T SET JOB_NUMBER = '-1' WHERE JOB_NUMBER IS NULL
/

ALTER TABLE TK_ASSIGNMENT_T MODIFY JOB_NUMBER NOT NULL
/

UPDATE TK_ASSIGNMENT_T SET WORK_AREA = '-1' WHERE WORK_AREA IS NULL
/

ALTER TABLE TK_ASSIGNMENT_T MODIFY WORK_AREA NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201309091500.xml::2::yingzhou::(Checksum: 3:88c7fa3dc7be47d58d99398055cdb6e8)
-- make pay_type not nullable in Time Collection Rule
UPDATE TK_TIME_COLLECTION_RL_T SET PAY_TYPE = '%' WHERE PAY_TYPE IS NULL
/

ALTER TABLE TK_TIME_COLLECTION_RL_T MODIFY PAY_TYPE NOT NULL
/

-- Changeset src/main/config/db/2.0.0/db.changelog-201309231200.xml::1::jjhanso::(Checksum: 3:34fec5124407fdec727392d838e3aadb)
ALTER TABLE LM_SYS_SCHD_TIMEOFF_T MODIFY AMOUNT_OF_TIME DECIMAL(10,2)
/
