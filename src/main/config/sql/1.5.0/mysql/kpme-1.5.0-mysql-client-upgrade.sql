--
-- Copyright 2004-2013 The Kuali Foundation
--
-- Licensed under the Educational Community License, Version 2.0 (the "License");
-- you may not use this file except in compliance with the License.
-- You may obtain a copy of the License at
--
-- http://www.opensource.org/licenses/ecl2.php
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an "AS IS" BASIS,
-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
-- See the License for the specific language governing permissions and
-- limitations under the License.
--

--  *********************************************************************
--  Update Database Script
--  *********************************************************************
--  Change Log: src/main/config/db/db.changelog-main-upgrade.xml
--  Ran at: 2/28/13 8:24 AM
--  Against: kpmedev@localhost@jdbc:mysql://localhost:3306/kpmedev
--  Liquibase version: 2.0.5
--  *********************************************************************

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230938.xml::1-mysql::lee55::(Checksum: 3:584a4f66918a24b54cbe45a329abdacf)
--  merge sql file changes
CREATE TABLE LM_LEDGER_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_LEDGER_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230938.xml::2::lee55::(Checksum: 3:6dc9bbbbdd6b4c9fc3ab2eaf104ea909)
--  merge sql file changes
CREATE TABLE `LM_LEDGER_T` (`LM_LEDGER_ID` VARCHAR(60) NOT NULL, `LEDGER_DATE` DATE NOT NULL, `DESCRIPTION` VARCHAR(255) NOT NULL, `PRINCIPAL_ID` VARCHAR(40) NOT NULL, `LEAVE_CODE` VARCHAR(15) NOT NULL, `LM_LEAVE_CODE_ID` BIGINT NOT NULL, `LM_SYS_SCHD_TIMEOFF_ID` BIGINT NOT NULL, `LM_ACCRUAL_CATEGORY_ID` BIGINT NOT NULL, `ACTIVE` VARCHAR(1) NOT NULL, `HOURS` INT NOT NULL, `APPLY_TO_YTD_USED` VARCHAR(255) NOT NULL, `DOCUMENT_ID` VARCHAR(14) NOT NULL, `PRINCIPAL_ACTIVATED` VARCHAR(40) NOT NULL, `PRINCIPAL_INACTIVATED` VARCHAR(40) NOT NULL, `TIMESTAMP_ACTIVATED` TIME NOT NULL, `TIMESTAMP_INACTIVATED` TIME NOT NULL, `ACCRUAL_GENERATED` VARCHAR(1) NOT NULL, `BLOCK_ID` BIGINT NOT NULL, `VER_NBR` BIGINT DEFAULT 1 NULL, `OBJ_ID` VARCHAR(36) NULL, CONSTRAINT `PK_LM_LEDGER_T` PRIMARY KEY (`LM_LEDGER_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230938.xml::3-mysql::lee55::(Checksum: 3:6a59cf24d2dd3fbd45a86715a4d62209)
--  merge sql file changes
CREATE TABLE LM_LEDGER_BLOCK_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_LEDGER_BLOCK_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::3::lee55::(Checksum: 3:9957081fba9474cb636089678148ed06)
--  another sql file merge
DROP TABLE `HR_HOLIDAY_CALENDAR_T`;

DROP TABLE `HR_HOLIDAY_CALENDAR_DATES_T`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::4-mysql::lee55::(Checksum: 3:7f9119cfc48ebc84e4bc72052ba8c637)
--  another sql file merge
DROP TABLE `HR_HOLIDAY_CALENDAR_S`;

DROP TABLE `HR_HOLIDAY_CALENDAR_DATES_S`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::5-mysql::lee55::(Checksum: 3:0e99fd8a624b67b994c9f70c0277c043)
--  another sql file merge
CREATE TABLE LM_LEAVE_PLAN_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_LEAVE_PLAN_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::6::lee55::(Checksum: 3:0c9fa577395dc5785e46383886276190)
--  another sql file merge
CREATE TABLE `LM_LEAVE_PLAN_T` (`LM_LEAVE_PLAN_ID` VARCHAR(60) NOT NULL, `LEAVE_PLAN` VARCHAR(15) NOT NULL, `DESCR` VARCHAR(30) NULL, `CAL_YEAR_START` VARCHAR(5) NULL, `EFFDT` DATE NOT NULL, `OBJ_ID` VARCHAR(36) NULL, `VER_NBR` BIGINT DEFAULT 1 NOT NULL, `ACTIVE` VARCHAR(1) DEFAULT 'N' NULL, `TIMESTAMP` DATETIME DEFAULT '1970-01-01 00:00:00.0' NULL, CONSTRAINT `PK_LM_LEAVE_PLAN_T` PRIMARY KEY (`LM_LEAVE_PLAN_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::7::lee55::(Checksum: 3:0ffc742f1bcdc32697377d3f714b4e8d)
--  another sql file merge
ALTER TABLE `LM_ACCRUAL_CATEGORIES_T` RENAME `LM_ACCRUAL_CATEGORY_T`;

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` MODIFY `ACCRUAL_CATEGORY` VARCHAR(3) NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` MODIFY `ACCRUAL_CATEGORY` VARCHAR(15);

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` MODIFY `ACCRUAL_CATEGORY` VARCHAR(15) NOT NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ADD `LEAVE_PLAN` VARCHAR(15) NOT NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ADD `ACCRUAL_INTERVAL_EARN` VARCHAR(5) NOT NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ADD `UNIT_OF_TIME` VARCHAR(5) NOT NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ADD `PRORATION` VARCHAR(1) DEFAULT 'N';

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ADD `DONATION` VARCHAR(1) DEFAULT 'N';

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ADD `SHOW_ON_GRID` VARCHAR(1) DEFAULT 'N';

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ADD `PLANNING_MONTHS` BIGINT NOT NULL DEFAULT 1;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::8-mysql::lee55::(Checksum: 3:9063d4613719f0c1fd8ff6acc4cda690)
--  another sql file merge
ALTER TABLE `LM_ACCRUAL_CATEGORIES_S` RENAME `LM_ACCRUAL_CATEGORY_S`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::9-mysql::lee55::(Checksum: 3:fe4fd0f6eaa09aed51c01a2d6e571148)
--  another sql file merge
CREATE TABLE LM_ACCRUAL_CATEGORY_RULES_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_ACCRUAL_CATEGORY_RULES_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::10::lee55::(Checksum: 3:5205a5b4823da954395719d4726b3c53)
--  another sql file merge
CREATE TABLE `LM_ACCRUAL_CATEGORY_RULES_T` (`LM_ACCRUAL_CATEGORY_RULES_ID` VARCHAR(60) NOT NULL, `SERVICE_UNIT_OF_TIME` VARCHAR(15) NOT NULL, `START_ACC` BIGINT NOT NULL, `END_ACC` BIGINT NOT NULL, `ACCRUAL_RATE` DECIMAL(10,2) NOT NULL, `MAX_BAL` DECIMAL(10,2) NOT NULL, `MAX_BAL_ACTION_FREQUENCY` VARCHAR(5) NOT NULL, `ACTION_AT_MAX_BAL` VARCHAR(5) NOT NULL, `MAX_BAL_TRANS_ACC_CAT` VARCHAR(15) NULL, `MAX_BAL_TRANS_CONV_FACTOR` DECIMAL(10,2) NULL, `MAX_TRANS_AMOUNT` BIGINT NULL, `MAX_PAYOUT_AMOUNT` BIGINT NULL, `MAX_PAYOUT_LEAVE_CODE` VARCHAR(15) NULL, `MAX_USAGE` BIGINT NULL, `MAX_CARRY_OVER` BIGINT NULL, `LM_ACCRUAL_CATEGORY_ID` BIGINT NOT NULL, `OBJ_ID` VARCHAR(36) NULL, `VER_NBR` BIGINT DEFAULT 1 NOT NULL, `ACTIVE` VARCHAR(1) DEFAULT 'N' NULL, `TIMESTAMP` DATETIME DEFAULT '1970-01-01 00:00:00.0' NULL, CONSTRAINT `PK_LM_ACCRUAL_CATEGORY_RULES_T` PRIMARY KEY (`LM_ACCRUAL_CATEGORY_RULES_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::11-mysql::lee55::(Checksum: 3:ebab3a5005d83296f419406c65cba393)
--  another sql file merge
CREATE TABLE LM_LEAVE_CODE_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_LEAVE_CODE_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::12::lee55::(Checksum: 3:8a3c74a9b2e2c0ea8823876df8a38f65)
--  another sql file merge
CREATE TABLE `LM_LEAVE_CODE_T` (`LM_LEAVE_CODE_ID` VARCHAR(60) NOT NULL, `LEAVE_PLAN` VARCHAR(15) NOT NULL, `ELIGIBLE_FOR_ACC` VARCHAR(5) NOT NULL, `ACCRUAL_CAT` VARCHAR(15) NULL, `EARN_CODE` VARCHAR(15) NULL, `LEAVE_CODE` VARCHAR(15) NOT NULL, `DISP_NAME` VARCHAR(20) NULL, `UNIT_OF_TIME` VARCHAR(5) NOT NULL, `FRACT_TIME_ALLOWD` VARCHAR(5) NOT NULL, `ROUND_OPT` VARCHAR(5) NOT NULL, `ALLOW_SCHD_LEAVE` VARCHAR(5) NOT NULL, `FMLA` VARCHAR(5) NOT NULL, `WORKMANS_COMP` VARCHAR(5) NOT NULL, `DEF_TIME` BIGINT NULL, `EMPLOYEE` VARCHAR(1) DEFAULT 'N' NULL, `APPROVER` VARCHAR(1) DEFAULT 'N' NULL, `DEPT_ADMIN` VARCHAR(1) DEFAULT 'N' NULL, `EFFDT` DATE NOT NULL, `OBJ_ID` VARCHAR(36) NULL, `VER_NBR` BIGINT DEFAULT 1 NOT NULL, `ACTIVE` VARCHAR(1) DEFAULT 'N' NULL, `TIMESTAMP` DATETIME DEFAULT '1970-01-01 00:00:00.0' NULL, CONSTRAINT `PK_LM_LEAVE_CODE_T` PRIMARY KEY (`LM_LEAVE_CODE_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::13::lee55::(Checksum: 3:fc9079b056f9878eb9b50f773a29595c)
--  another sql file merge
CREATE TABLE `LM_LEAVE_DOCUMENT_HEADER_T` (`DOCUMENT_ID` VARCHAR(14) NOT NULL, `PRINCIPAL_ID` VARCHAR(10) NOT NULL, `BEGIN_DATE` DATETIME DEFAULT '1970-01-01 00:00:00.0' NOT NULL, `END_DATE` DATETIME DEFAULT '1970-01-01 00:00:00.0' NOT NULL, `DOCUMENT_STATUS` VARCHAR(1) NOT NULL, `OBJ_ID` VARCHAR(36) NOT NULL, `VER_NBR` BIGINT NOT NULL) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::14::lee55::(Checksum: 3:a20b092a3879c17f3e5b0675337be06c)
--  another sql file merge
ALTER TABLE `HR_JOB_T` ADD `ELIGIBLE_FOR_LEAVE` VARCHAR(1) DEFAULT 'N';

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::15-mysql::lee55::(Checksum: 3:d6a10c1c2b47b2d544c7eb9c7c68e9c5)
--  another sql file merge
CREATE TABLE LM_SYS_SCHD_TIMEOFF_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_SYS_SCHD_TIMEOFF_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201111230939.xml::16::lee55::(Checksum: 3:fdaa84745c4bb70f6be7b1eb95cd35eb)
--  another sql file merge
CREATE TABLE `LM_SYS_SCHD_TIMEOFF_T` (`LM_SYS_SCHD_TIMEOFF_ID` VARCHAR(60) NOT NULL, `LEAVE_PLAN` VARCHAR(15) NOT NULL, `ACCRUAL_CATEGORY` VARCHAR(15) NOT NULL, `LEAVE_CODE` VARCHAR(15) NOT NULL, `ACCR_DT` DATE NOT NULL, `SCH_TIME_OFF_DT` DATE NULL, `LOCATION` VARCHAR(15) NOT NULL, `DESCR` VARCHAR(50) NOT NULL, `AMOUNT_OF_TIME` BIGINT DEFAULT 1 NOT NULL, `UNUSED_TIME` VARCHAR(5) NULL, `TRANS_CONV_FACTOR` DECIMAL(10,2) NULL, `TRANSFER_TO_LEAVE_CODE` VARCHAR(15) NULL, `EXP_DT` DATE NULL, `PREMIUM_HOLIDAY` VARCHAR(5) NOT NULL, `EFFDT` DATE NOT NULL, `OBJ_ID` VARCHAR(36) NULL, `VER_NBR` BIGINT DEFAULT 1 NOT NULL, `ACTIVE` VARCHAR(1) DEFAULT 'N' NULL, `TIMESTAMP` DATETIME DEFAULT '1970-01-01 00:00:00.0' NULL, CONSTRAINT `PK_LM_SYS_SCHD_TIMEOFF_T` PRIMARY KEY (`LM_SYS_SCHD_TIMEOFF_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201112200337.xml::1-mysql::npadharia::(Checksum: 3:47677152341b3bea9e91c7f8ee630d4f)
--  KPME-1207 : npadharia : created Leave Donation maint doc.
CREATE TABLE LM_LEAVE_DONATION_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_LEAVE_DONATION_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201112200337.xml::2::npadharia::(Checksum: 3:7d4f8c4f1cd9d22a3f4060cc8ee2d05c)
--  KPME-1207 : npadharia : created Leave Donation maint doc.
CREATE TABLE `LM_LEAVE_DONATION_T` (`LM_LEAVE_DONATION_ID` VARCHAR(60) NOT NULL, `DONATED_ACC_CAT` VARCHAR(15) NOT NULL, `RECIPIENTS_ACC_CAT` VARCHAR(15) NOT NULL, `AMOUNT_DONATED` DECIMAL(18,2) NOT NULL, `AMOUNT_RECEIVED` DECIMAL(18,2) NOT NULL, `DONOR` VARCHAR(40) NOT NULL, `RECEPIENT` VARCHAR(40) NOT NULL, `DESCR` VARCHAR(50) NOT NULL, `EFFDT` DATE NOT NULL, `OBJ_ID` VARCHAR(36) NULL, `VER_NBR` BIGINT DEFAULT 1 NOT NULL, `ACTIVE` VARCHAR(1) DEFAULT 'N' NULL, `TIMESTAMP` DATETIME DEFAULT '1970-01-01 00:00:00.0' NULL, CONSTRAINT `PK_LM_LEAVE_DONATION_T` PRIMARY KEY (`LM_LEAVE_DONATION_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201202080934.xml::2::lee55::(Checksum: 3:0f634071dd765b4cf99d18c0ef20ab1d)
--  reorganized the sql files
ALTER TABLE `LM_ACCRUAL_CATEGORY_T` MODIFY `ACCRUAL_INTERVAL_EARN` VARCHAR(5) NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` MODIFY `ACCRUAL_INTERVAL_EARN` VARCHAR(1);

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` MODIFY `ACCRUAL_INTERVAL_EARN` VARCHAR(1) NOT NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` DROP COLUMN `PLANNING_MONTHS`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201202080934.xml::3-mysql::lee55::(Checksum: 3:b7b2d0cbd6ab775b66de306fee9b5cf6)
--  reorganized the sql files
CREATE TABLE LM_EMPLOYEE_OVERRIDE_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_EMPLOYEE_OVERRIDE_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201202080934.xml::4::lee55::(Checksum: 3:3f4d4648f304b4cc3d9f9997b816790c)
--  reorganized the sql files
CREATE TABLE `LM_EMPLOYEE_OVERRIDE_T` (`LM_EMPLOYEE_OVERRIDE_ID` VARCHAR(60) NOT NULL, `PRINCIPAL_ID` VARCHAR(40) NOT NULL, `ACCRUAL_CAT` VARCHAR(60) NOT NULL, `LEAVE_PLAN` VARCHAR(60) NOT NULL, `OVERRIDE_TYPE` VARCHAR(30) NOT NULL, `OVERRIDE_VALUE` BIGINT NULL, `DESCRIPTION` VARCHAR(50) NULL, `ACTIVE` VARCHAR(1) DEFAULT 'N' NOT NULL, `TIMESTAMP` DATETIME DEFAULT '1970-01-01 00:00:00.0' NULL, `OBJ_ID` VARCHAR(36) NULL, `VER_NBR` BIGINT DEFAULT 1 NOT NULL, CONSTRAINT `PK_LM_EMPLOYEE_OVERRIDE_T` PRIMARY KEY (`LM_EMPLOYEE_OVERRIDE_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201202080934.xml::5-mysql::lee55::(Checksum: 3:d027b00423e85d08e878b4b44672c1e1)
--  reorganized the sql files
CREATE TABLE LM_LEAVE_ADJUSTMENT_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_LEAVE_ADJUSTMENT_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201202080934.xml::6::lee55::(Checksum: 3:743d30005577ee08ff26640bb75d09ae)
--  reorganized the sql files
CREATE TABLE `LM_LEAVE_ADJUSTMENT_T` (`LM_LEAVE_ADJUSTMENT_ID` VARCHAR(60) NOT NULL, `PRINCIPAL_ID` VARCHAR(40) NOT NULL, `ACCRUAL_CAT` VARCHAR(15) NOT NULL, `LEAVE_PLAN` VARCHAR(15) NOT NULL, `LEAVE_CODE` VARCHAR(15) NOT NULL, `ADJUSTMENT_AMOUNT` DECIMAL(20) NOT NULL, `DESCRIPTION` VARCHAR(50) NULL, `TIMESTAMP` DATETIME DEFAULT '1970-01-01 00:00:00.0' NULL, `OBJ_ID` VARCHAR(36) NULL, `VER_NBR` BIGINT DEFAULT 1 NOT NULL, CONSTRAINT `PK_LM_LEAVE_ADJUSTMENT_T` PRIMARY KEY (`LM_LEAVE_ADJUSTMENT_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201202080934.xml::8::lee55::(Checksum: 3:c2e99da1c1ca1c3366e73820315aa11c)
--  reorganized the sql files
ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ADD `MIN_PERCENT_WORKED` DECIMAL(5,2) DEFAULT 0;

--  Changeset src/main/config/db/1.5.0/db.changelog-201202090656.xml::1::tkagata::(Checksum: 3:92511913fe16c74e2c554439d7acfb75)
--  Default for accrual_interval_earn needs to be "M" (monthly)
ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ALTER `ACCRUAL_INTERVAL_EARN` SET DEFAULT 'M';

--  Changeset src/main/config/db/1.5.0/db.changelog-201202221800.xml::1::henrydfs::(Checksum: 3:ec354e144929350d0963fc30e627972a)
--  KPME-1247
ALTER TABLE `LM_LEAVE_PLAN_T` ADD `PLANNING_MONTHS` VARCHAR(3);

--  Changeset src/main/config/db/1.5.0/db.changelog-201202291146.xml::1::xichen::(Checksum: 3:dc3b64226f7bbbbce296dcf5b10fb028)
--  KPME-1350, add allow_negative_accrual_balance field into Leave Code.
ALTER TABLE `LM_LEAVE_CODE_T` ADD `ALLOW_NEGATIVE_ACC_BALANCE` VARCHAR(1) NOT NULL DEFAULT 'N';

--  Changeset src/main/config/db/1.5.0/db.changelog-201203020913.xml::1::tkagata::(Checksum: 3:b405133d958a2c8b93577ad01b9bdcf7)
--  kpme1250, kpme1268
ALTER TABLE `HR_PRINCIPAL_ATTRIBUTES_T` ADD `RECORD_TIME` VARCHAR(1) NOT NULL DEFAULT 'Y';

ALTER TABLE `HR_PRINCIPAL_ATTRIBUTES_T` ADD `RECORD_LEAVE` VARCHAR(2) NOT NULL DEFAULT 'LM';

--  Changeset src/main/config/db/1.5.0/db.changelog-201203120603.xml::1-mysql::jkakkad::(Checksum: 3:64997910c501d330e2bb85af66298cdf)
--  KPME-1392 KPME 1393 KPME 1394 SQLs added for required changes
CREATE TABLE LM_LEAVE_BLOCK_HIST_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_LEAVE_BLOCK_HIST_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201203120603.xml::2::jkakkad::(Checksum: 3:30f3436b0a5190574f13f192f51acf07)
--  KPME-1392 KPME 1393 KPME 1394 SQLs added for required changes
CREATE TABLE `LM_LEAVE_BLOCK_HIST_T` (`LM_LEAVE_BLOCK_HIST_ID` VARCHAR(60) NOT NULL, `LM_LEAVE_BLOCK_ID` VARCHAR(60) NOT NULL, `LEAVE_DATE` DATE NOT NULL, `DESCRIPTION` VARCHAR(255) NOT NULL, `PRINCIPAL_ID` VARCHAR(40) NOT NULL, `LEAVE_CODE` VARCHAR(15) NOT NULL, `LM_LEAVE_CODE_ID` VARCHAR(60) NOT NULL, `LM_SYS_SCHD_TIMEOFF_ID` VARCHAR(60) NOT NULL, `LM_ACCRUAL_CATEGORY_ID` VARCHAR(60) NOT NULL, `TK_ASSIGNMENT_ID` VARCHAR(60) NULL, `HOURS` INT NOT NULL, `APPLY_TO_YTD_USED` VARCHAR(255) NOT NULL, `DOCUMENT_ID` VARCHAR(14) NOT NULL, `PRINCIPAL_ID_MODIFIED` VARCHAR(40) NULL, `TIMESTAMP` TIME NULL, `PRINCIPAL_ID_DELETED` VARCHAR(40) NULL, `TIMESTAMP_DELETED` TIME NULL, `BLOCK_ID` BIGINT NULL, `ACCRUAL_GENERATED` VARCHAR(1) NOT NULL, `REQUEST_STATUS` VARCHAR(1) NULL, `ACTION` VARCHAR(1) NULL, `VER_NBR` BIGINT DEFAULT 1 NULL, `OBJ_ID` VARCHAR(36) NULL, CONSTRAINT `PK_LM_LEAVE_BLOCK_HIST_T` PRIMARY KEY (`LM_LEAVE_BLOCK_HIST_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201203120603.xml::3-mysql::jkakkad::(Checksum: 3:8e30f854cc08483599cb98ddcf46dfaf)
--  KPME-1392 KPME 1393 KPME 1394 SQLs added for required changes
CREATE TABLE LM_LEAVE_STATUS_HIST_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_LEAVE_STATUS_HIST_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201203120603.xml::4::jkakkad::(Checksum: 3:474a967211d0a426aa2efe8ccb5d0d0f)
--  KPME-1392 KPME 1393 KPME 1394 SQLs added for required changes
CREATE TABLE `LM_LEAVE_STATUS_HIST_T` (`LM_LEAVE_STATUS_HIST_ID` VARCHAR(60) NOT NULL, `LM_LEAVE_BLOCK_ID` VARCHAR(60) NOT NULL, `REQUEST_STATUS` VARCHAR(1) NULL, `TIMESTAMP` DATETIME DEFAULT '1970-01-01 00:00:00.0' NOT NULL, `PRINCIPAL_ID_MODIFIED` VARCHAR(40) NULL, `REASON` VARCHAR(255) NULL, `OBJ_ID` VARCHAR(36) NULL, `VER_NBR` BIGINT DEFAULT 1 NOT NULL, CONSTRAINT `PK_LM_LEAVE_STATUS_HIST_T` PRIMARY KEY (`LM_LEAVE_STATUS_HIST_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201203120603.xml::5::jkakkad::(Checksum: 3:4f74d7fc418aa36c93df3039c40113fc)
--  KPME-1392 KPME 1393 KPME 1394 SQLs added for required changes
ALTER TABLE `LM_LEDGER_T` RENAME `LM_LEAVE_BLOCK_T`;

ALTER TABLE `LM_LEAVE_BLOCK_T` DROP COLUMN `ACTIVE`;

ALTER TABLE `LM_LEAVE_BLOCK_T` DROP COLUMN `PRINCIPAL_ACTIVATED`;

ALTER TABLE `LM_LEAVE_BLOCK_T` DROP COLUMN `PRINCIPAL_INACTIVATED`;

ALTER TABLE `LM_LEAVE_BLOCK_T` DROP COLUMN `TIMESTAMP_ACTIVATED`;

ALTER TABLE `LM_LEAVE_BLOCK_T` DROP COLUMN `TIMESTAMP_INACTIVATED`;

ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `TIMESTAMP` DATETIME NOT NULL DEFAULT '1970-01-01 00:00:00.0';

ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `PRINCIPAL_ID_MODIFIED` VARCHAR(40);

ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `TK_ASSIGNMENT_ID` VARCHAR(60);

ALTER TABLE `LM_LEAVE_BLOCK_T` CHANGE `LM_LEDGER_ID` `LM_LEAVE_BLOCK_ID` VARCHAR(60) NOT NULL;

ALTER TABLE `LM_LEAVE_BLOCK_T` CHANGE `LEDGER_DATE` `LEAVE_DATE` DATE NOT NULL;

ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `REQUEST_STATUS` VARCHAR(1);

--  Changeset src/main/config/db/1.5.0/db.changelog-201203120603.xml::6-mysql::lee55::(Checksum: 3:c21d11b3520dbd6a126b745a5b6d9fa3)
--  KPME-1392 KPME 1393 KPME 1394 SQLs added for required changes
ALTER TABLE `LM_LEDGER_S` RENAME `LM_LEAVE_BLOCK_S`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201203160421.xml::1::jkakkad::(Checksum: 3:b2f03102832e718b5e9b3572b9d28e05)
--  KPME-1232 Leave Request Page added
ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` MODIFY `TIMESTAMP` DATETIME;

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` MODIFY `TIMESTAMP` DATETIME NOT NULL;

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` MODIFY `TIMESTAMP_DELETED` DATETIME;

--  Changeset src/main/config/db/1.5.0/db.changelog-201203160421.xml::2-mysql::jkakkad::(Checksum: 3:021f3ed94638f527859aee67788e593d)
--  KPME-1232 Leave Request Page added
ALTER TABLE LM_LEAVE_BLOCK_HIST_T CHANGE COLUMN TIMESTAMP TIMESTAMP DATETIME NOT NULL DEFAULT '1970-01-01 00:00:00';

ALTER TABLE LM_LEAVE_BLOCK_HIST_T CHANGE COLUMN TIMESTAMP_DELETED TIMESTAMP_DELETED DATETIME DEFAULT '1970-01-01 00:00:00';

--  Changeset src/main/config/db/1.5.0/db.changelog-201203160421.xml::2::jkakkad::(Checksum: 3:8640fe612bcdd91ee5062eac32a339e8)
--  KPME-1232 Leave Request Page added
ALTER TABLE `LM_LEAVE_BLOCK_T` CHANGE `HOURS` `LEAVE_AMOUNT` INT NOT NULL;

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` CHANGE `HOURS` `LEAVE_AMOUNT` INT NOT NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201203291520.xml::1::lee55::(Checksum: 3:f93f61491c3dceefe3bb41a6ca2dcde8)
--  make the leave calendar work again
ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `DESCRIPTION` VARCHAR(255) NOT NULL NULL;

ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `APPLY_TO_YTD_USED` VARCHAR(255) NOT NULL NULL;

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` MODIFY `DESCRIPTION` VARCHAR(255) NOT NULL NULL;

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` MODIFY `APPLY_TO_YTD_USED` VARCHAR(255) NOT NULL NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201204101321.xml::1::tkagata::(Checksum: 3:d0cb0da74c884b5cb17c51423d44e9c3)
--  KPME-1347
ALTER TABLE `LM_ACCRUAL_CATEGORY_T` MODIFY `DESCR` VARCHAR(30) NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` MODIFY `DESCR` VARCHAR(50);

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` MODIFY `DESCR` VARCHAR(50) NOT NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ADD `LEAVE_CODE` VARCHAR(15);

--  Changeset src/main/config/db/1.5.0/db.changelog-201204131535.xml::1::henrydfs::(Checksum: 3:ee487d289e721c0dba7ddf75e8eec180)
--  Max Balance Flag related JIRAs (KPME 1288, 1289, 1349, 1352, 1408) and needed SQL file  changes for schema changes to lm_accrual_category_t and lm_accrual_category_rules_t.
ALTER TABLE `LM_ACCRUAL_CATEGORY_T` ADD `HAS_RULES` VARCHAR(1);

ALTER TABLE `LM_ACCRUAL_CATEGORY_RULES_T` ADD `MAX_BAL_FLAG` VARCHAR(1);

ALTER TABLE `LM_ACCRUAL_CATEGORY_RULES_T` MODIFY `LM_ACCRUAL_CATEGORY_ID` BIGINT NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_RULES_T` MODIFY `LM_ACCRUAL_CATEGORY_ID` VARCHAR(60);

--  Changeset src/main/config/db/1.5.0/db.changelog-201204241305.xml::1::lfox::(Checksum: 3:fd7ebd5e56e5fa67b35a96dde3f954c6)
--  modify table to allow null
ALTER TABLE `LM_LEAVE_CODE_T` MODIFY `LEAVE_PLAN` VARCHAR(15) NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201204300906.xml::1::jkakkad::(Checksum: 3:e9690409754d5034674e5ea6452eba53)
--  KPME-1445 jobnumber, workarea, task fields added
ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `JOB_NUMBER` BIGINT;

ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `WORK_AREA` BIGINT;

ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `TASK` BIGINT;

--  Changeset src/main/config/db/1.5.0/db.changelog-201205010840.xml::1::jkakkad::(Checksum: 3:5fc8539e2297eb46941cae44c5552b4c)
--  KPME1464, added AffectPay field into Leave Code Maint page.
ALTER TABLE `LM_LEAVE_CODE_T` ADD `AFFECT_PAY` VARCHAR(1) NOT NULL DEFAULT 'N';

--  Changeset src/main/config/db/1.5.0/db.changelog-201205011112.xml::1::yingzhou::(Checksum: 3:96f4bee3508b6d051450a642e5a49cd0)
--  kpme-1484: changed logic in leave calendar to display/add leave blocks with date, not document id
ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `DOCUMENT_ID` VARCHAR(14) NULL;

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` MODIFY `DOCUMENT_ID` VARCHAR(14) NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201205011141.xml::1::lfox::(Checksum: 3:0f5a90d8d416b61645e8fbfd2cf27210)
--  modified for testing
ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `LM_ACCRUAL_CATEGORY_ID` VARCHAR(60) NULL;

ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `LM_ACCRUAL_CATEGORY_ID` VARCHAR(60);

--  Changeset src/main/config/db/1.5.0/db.changelog-201205081455.xml::1::xichen::(Checksum: 3:4fe7b78af1eca1d45ee2899fdbd28f8c)
--  KPME-1457. Added effectiveDate into table lm_employee_override_t and lm_ Leave_Adjustment_t.
ALTER TABLE `LM_LEAVE_ADJUSTMENT_T` ADD `EFFDT` DATE;

--  Changeset src/main/config/db/1.5.0/db.changelog-201205081455.xml::2::xichen::(Checksum: 3:83d9ad2b4fc870d12b6592decf28a245)
--  KPME-1457. Added effectiveDate into table lm_employee_override_t and lm_ Leave_Adjustment_t.
ALTER TABLE `LM_EMPLOYEE_OVERRIDE_T` ADD `EFFDT` DATE;

--  Changeset src/main/config/db/1.5.0/db.changelog-201205081800.xml::1::henrydfs::(Checksum: 3:0357dee05eeb80589ef6c915611ba44a)
--  KPME-1487, rename alter_employee_override.sql and alter_leave_adjustments to not execute after any sql files submitted in the AM on 05-09
ALTER TABLE `LM_LEAVE_DONATION_T` ADD `DONATED_LV_CODE` VARCHAR(15);

ALTER TABLE `LM_LEAVE_DONATION_T` ADD `RECIPIENTS_LV_CODE` VARCHAR(15);

--  Changeset src/main/config/db/1.5.0/db.changelog-201205301510.xml::1::yingzhou::(Checksum: 3:3d669c673008da7b1fd7c70ccd445426)
--  kpme-1262, kpme-1209: added runAccrual logic in AccrualService, AccrualServiceTest
ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `LM_SYS_SCHD_TIMEOFF_ID` VARCHAR(60) NULL;

ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `LM_SYS_SCHD_TIMEOFF_ID` VARCHAR(60);

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` MODIFY `LM_SYS_SCHD_TIMEOFF_ID` VARCHAR(60) NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201206051321.xml::1::yingzhou::(Checksum: 3:e0c2758d455f0b33527ed6a906443668)
--  kpme-1267: partial commit, create empty leave block for employee status change
ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` MODIFY `LM_ACCRUAL_CATEGORY_ID` VARCHAR(60) NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201206071531.xml::1::jkakkad::(Checksum: 3:132e38c598c11aec10c3af9f2874f344)
--  KPME-1624 Earn code maint changed for Leave Management
ALTER TABLE `HR_EARN_CODE_T` ADD `LEAVE_PLAN` VARCHAR(15);

ALTER TABLE `HR_EARN_CODE_T` ADD `ACCRUAL_BAL_ACTION` VARCHAR(15);

ALTER TABLE `HR_EARN_CODE_T` ADD `FRACT_TIME_ALLOWD` VARCHAR(5) NOT NULL;

ALTER TABLE `HR_EARN_CODE_T` ADD `ROUND_OPT` VARCHAR(5) NOT NULL;

ALTER TABLE `HR_EARN_CODE_T` ADD `ROLLUP_TO_EARNCODE` VARCHAR(3);

ALTER TABLE `HR_EARN_CODE_T` ADD `ELIGIBLE_FOR_ACC` VARCHAR(1) NOT NULL;

ALTER TABLE `HR_EARN_CODE_T` ADD `AFFECT_PAY` VARCHAR(1) NOT NULL;

ALTER TABLE `HR_EARN_CODE_T` ADD `ALLOW_SCHD_LEAVE` VARCHAR(1) NOT NULL;

ALTER TABLE `HR_EARN_CODE_T` ADD `FMLA` VARCHAR(1) NOT NULL;

ALTER TABLE `HR_EARN_CODE_T` ADD `WORKMANS_COMP` VARCHAR(15) NOT NULL;

ALTER TABLE `HR_EARN_CODE_T` ADD `DEF_TIME` VARCHAR(15);

ALTER TABLE `HR_EARN_CODE_T` ADD `ALLOW_NEGATIVE_ACC_BALANCE` VARCHAR(1) NOT NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201206121602.xml::2::yingzhou::(Checksum: 3:2898bced189a552b74afa87acbeffd24)
--  kpme-1641: added new id to principalHRAttributes table
ALTER TABLE `HR_PRINCIPAL_ATTRIBUTES_T` ADD `LEAVE_PLAN` VARCHAR(15);

ALTER TABLE `HR_PRINCIPAL_ATTRIBUTES_T` ADD `LEAVE_CALENDAR` VARCHAR(15);

ALTER TABLE `HR_PRINCIPAL_ATTRIBUTES_T` DROP COLUMN `HOLIDAY_CALENDAR_GROUP`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201206141101.xml::1::jkakkad::(Checksum: 3:309ebbb263242a57df8d43936a57fd40)
--  KPME-1632 Earn Code Group maint doc changes
ALTER TABLE `HR_EARN_GROUP_T` CHANGE `HR_EARN_GROUP_ID` `HR_EARN_CODE_GROUP_ID` VARCHAR(60) NOT NULL;

ALTER TABLE `HR_EARN_GROUP_T` CHANGE `EARN_GROUP` `EARN_CODE_GROUP` VARCHAR(10);

ALTER TABLE `HR_EARN_GROUP_T` MODIFY `EARN_CODE_GROUP` VARCHAR(10) NOT NULL;

ALTER TABLE `HR_EARN_GROUP_T` RENAME `HR_EARN_CODE_GROUP_T`;

ALTER TABLE `HR_EARN_GROUP_DEF_T` CHANGE `HR_EARN_GROUP_DEF_ID` `HR_EARN_CODE_GROUP_DEF_ID` VARCHAR(60) NOT NULL;

ALTER TABLE `HR_EARN_GROUP_DEF_T` CHANGE `HR_EARN_GROUP_ID` `HR_EARN_CODE_GROUP_ID` VARCHAR(60) NOT NULL;

ALTER TABLE `HR_EARN_GROUP_DEF_T` RENAME `HR_EARN_CODE_GROUP_DEF_T`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201206141101.xml::2-mysql::jkakkad::(Checksum: 3:b670405b7e8fb27f555ba6a681900930)
--  KPME-1632 Earn Code Group maint doc changes
ALTER TABLE `HR_EARN_GROUP_S` RENAME `HR_EARN_CODE_GROUP_S`;

ALTER TABLE `HR_EARN_GROUP_DEF_S` RENAME `HR_EARN_CODE_GROUP_DEF_S`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201206181101.xml::1::jkakkad::(Checksum: 3:4f4baf479a06a30a0e6301049a5e5b51)
--  KPME-1634 Acc cat maint leave code reference changed to earn code
ALTER TABLE `LM_ACCRUAL_CATEGORY_T` CHANGE `LEAVE_CODE` `EARN_CODE` VARCHAR(15);

ALTER TABLE `LM_ACCRUAL_CATEGORY_T` MODIFY `EARN_CODE` VARCHAR(15) NOT NULL;

ALTER TABLE `LM_ACCRUAL_CATEGORY_RULES_T` CHANGE `MAX_PAYOUT_LEAVE_CODE` `MAX_PAYOUT_EARN_CODE` VARCHAR(15);

--  Changeset src/main/config/db/1.5.0/db.changelog-201206191001.xml::1::jkakkad::(Checksum: 3:2dc24ba36af8e40fde404d768c11ef82)
--  KPME-1635 System scheduled time off maint doc change (reference changed from leave code to earn code)
ALTER TABLE `LM_SYS_SCHD_TIMEOFF_T` CHANGE `LEAVE_CODE` `EARN_CODE` VARCHAR(15) NOT NULL;

ALTER TABLE `LM_SYS_SCHD_TIMEOFF_T` CHANGE `TRANSFER_TO_LEAVE_CODE` `TRANSFER_TO_EARN_CODE` VARCHAR(15);

--  Changeset src/main/config/db/1.5.0/db.changelog-201206200901.xml::1::jkakkad::(Checksum: 3:8980cfaae63c1e83b2b94541062e8e09)
--  KPME-1636 and KPME-1637 Leave Donation/Adjustment maint doc earn code changes
ALTER TABLE `LM_LEAVE_ADJUSTMENT_T` CHANGE `LEAVE_CODE` `EARN_CODE` VARCHAR(15) NOT NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201206200901.xml::2::jkakkad::(Checksum: 3:4a3736476a059bee8d95630f2771d34a)
--  KPME-1636 and KPME-1637 Leave Donation/Adjustment maint doc earn code changes
ALTER TABLE `LM_LEAVE_DONATION_T` CHANGE `DONATED_LV_CODE` `DONATED_ER_CODE` VARCHAR(15);

ALTER TABLE `LM_LEAVE_DONATION_T` CHANGE `RECIPIENTS_LV_CODE` `RECIPIENTS_ER_CODE` VARCHAR(15);

--  Changeset src/main/config/db/1.5.0/db.changelog-201206201455.xml::1::jkakkad::(Checksum: 3:bd4cd1dc889ee912c18c2e00470a3d39)
--  Earn Code length changed from 3 to 15
ALTER TABLE `HR_EARN_CODE_T` MODIFY `ROLLUP_TO_EARNCODE` VARCHAR(15);

--  Changeset src/main/config/db/1.5.0/db.changelog-201206250940.xml::1::yingzhou::(Checksum: 3:8714a1d6bf725c02543074bbddf8aedf)
--  kpme-1661: change leave block to use Earn Code instead of Leave Code, gui and test changes. Changed Accrual calculation to be based on work days.
ALTER TABLE `LM_LEAVE_BLOCK_T` CHANGE `LEAVE_CODE` `EARN_CODE` VARCHAR(15) NOT NULL;

ALTER TABLE `LM_LEAVE_BLOCK_T` CHANGE `LM_LEAVE_CODE_ID` `HR_EARN_CODE_ID` VARCHAR(60) NOT NULL;

ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `HR_EARN_CODE_ID` VARCHAR(60) NULL;

ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `HR_EARN_CODE_ID` VARCHAR(15);

ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `HR_EARN_CODE_ID` VARCHAR(15) NOT NULL;

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` CHANGE `LEAVE_CODE` `EARN_CODE` VARCHAR(15) NOT NULL;

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` CHANGE `LM_LEAVE_CODE_ID` `HR_EARN_CODE_ID` VARCHAR(60) NOT NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201207111400.xml::1::yingzhou::(Checksum: 3:254b621ef244a41cfe225f1a6cfec50f)
--  KPME-1685
ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `LEAVE_BLOCK_TYPE` VARCHAR(5) NOT NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201207111400.xml::2::yingzhou::(Checksum: 3:8fb00da8ed3fac0b948c96faa5efb60e)
ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` ADD `LEAVE_BLOCK_TYPE` VARCHAR(5) NOT NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201207131103.xml::1::jkakkad::(Checksum: 3:371db20db7236b5b2b61f044241d631d)
--  KPME-1676 Record Time/Leave removed from Princiapal Attributes
ALTER TABLE `HR_PRINCIPAL_ATTRIBUTES_T` DROP COLUMN `RECORD_TIME`;

ALTER TABLE `HR_PRINCIPAL_ATTRIBUTES_T` DROP COLUMN `RECORD_LEAVE`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201207241500.xml::1::yingzhou::(Checksum: 3:d7d802948272360cfa0ea9cdb346900c)
--  KPME-1267
CREATE TABLE `LM_PRIN_ACCR_RAN_T` (`PRINCIPAL_ID` VARCHAR(40) NOT NULL, `LAST_RAN_TS` TIME NOT NULL, CONSTRAINT `PK_LM_PRIN_ACCR_RAN_T` PRIMARY KEY (`PRINCIPAL_ID`));

--  Changeset src/main/config/db/1.5.0/db.changelog-201208021300.xml::1::yingzhou::(Checksum: 3:29e94b3a4f9a38b8e0e1c2ee68223c61)
--  KPME-1267
ALTER TABLE `LM_PRIN_ACCR_RAN_T` MODIFY `LAST_RAN_TS` TIME NULL;

ALTER TABLE `LM_PRIN_ACCR_RAN_T` MODIFY `LAST_RAN_TS` DATETIME;

ALTER TABLE `LM_PRIN_ACCR_RAN_T` MODIFY `LAST_RAN_TS` DATETIME NOT NULL;

--  Changeset src/main/config/db/1.5.0/db.changelog-201208021300.xml::2-mysql::jkakkad::(Checksum: 3:e9f91b00e374855eb3239c3ee3e1712e)
--  KPME-1267
ALTER TABLE LM_PRIN_ACCR_RAN_T CHANGE COLUMN LAST_RAN_TS LAST_RAN_TS DATETIME NOT NULL DEFAULT '1970-01-01 00:00:00';

--  Changeset src/main/config/db/1.5.0/db.changelog-201208291913.xml::1::jkakkad::(Checksum: 3:7bac1de40ca5b8ff4bd4a70fa0ef901a)
--  KPME-1746 Principal HR Attributes - Change workmans comp to workers comp
ALTER TABLE `hr_principal_attributes_t` CHANGE `WORKSMAN_ELIGIBLE` `WORKERS_ELIGIBLE` VARCHAR(1);

--  Changeset src/main/config/db/1.5.0/db.changelog-201209041500.xml::1::jjhanso::(Checksum: 3:fc2f0f2b11f00ace670c182911bea942)
--  Adding missing primary keys
ALTER TABLE `LM_LEAVE_DOCUMENT_HEADER_T` ADD PRIMARY KEY (`DOCUMENT_ID`);

--  Changeset src/main/config/db/1.5.0/db.changelog-201209071100.xml::1::yingzhou::(Checksum: 3:5ed632eb949a4f1ed05d29d7fcf43804)
--  KPME-1760
ALTER TABLE `LM_LEAVE_BLOCK_T` MODIFY `LEAVE_AMOUNT` VARCHAR(10);

--  Changeset src/main/config/db/1.5.0/db.changelog-201209131413.xml::1::jkakkad::(Checksum: 3:8c02f438e26a3c81d1feaffe006adc14)
--  KPME-1763 Earn Code: Add Flag- Usage Limit
ALTER TABLE `HR_EARN_CODE_T` ADD `USAGE_LIMIT` VARCHAR(5) DEFAULT 'I';

--  Changeset src/main/config/db/1.5.0/db.changelog-201210030913.xml::1::kbtaylor::(Checksum: 3:00b67aab74de8d9eba6046c9d39b1a15)
--  KPME-1842: Increasing the length of the description to 50
ALTER TABLE `LM_LEAVE_PLAN_T` MODIFY `DESCR` VARCHAR(50);

--  Changeset src/main/config/db/1.5.0/db.changelog-201210230922.xml::1::kbtaylor::(Checksum: 3:61022bdd475056acdec7cdc54dc55fcc)
--  KPME-1490: Remove foreign key ids from linkages requiring effective date matchings
ALTER TABLE `LM_LEAVE_BLOCK_T` DROP COLUMN `HR_EARN_CODE_ID`;

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` DROP COLUMN `HR_EARN_CODE_ID`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201210230922.xml::2::kbtaylor::(Checksum: 3:5cbfd52d538b4c7c2ddf9e7e13838ae7)
--  KPME-1490: Remove foreign key ids from linkages requiring effective date matchings
ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `ACCRUAL_CATEGORY` VARCHAR(15);

UPDATE LM_LEAVE_BLOCK_T lb SET ACCRUAL_CATEGORY = (SELECT ACCRUAL_CATEGORY FROM LM_ACCRUAL_CATEGORY_T ac WHERE lb.LM_ACCRUAL_CATEGORY_ID = ac.LM_ACCRUAL_CATEGORY_ID);

ALTER TABLE `LM_LEAVE_BLOCK_T` DROP COLUMN `LM_ACCRUAL_CATEGORY_ID`;

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` ADD `ACCRUAL_CATEGORY` VARCHAR(15);

UPDATE LM_LEAVE_BLOCK_HIST_T lb SET ACCRUAL_CATEGORY = (SELECT ACCRUAL_CATEGORY FROM LM_ACCRUAL_CATEGORY_T ac WHERE lb.LM_ACCRUAL_CATEGORY_ID = ac.LM_ACCRUAL_CATEGORY_ID);

ALTER TABLE `LM_LEAVE_BLOCK_HIST_T` DROP COLUMN `LM_ACCRUAL_CATEGORY_ID`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201211060924.xml::1-mysql::drgodfrey::(Checksum: 3:45c0ac78d74f8f3f599ad3bda41251eb)
--  create lm_balance_transfer_s for balance transfer document
CREATE TABLE LM_BALANCE_TRANSFER_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_BALANCE_TRANSFER_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201211060924.xml::2::drgodfrey::(Checksum: 3:67f8019a149b3218bc6564c3920db7c3)
--  create lm_balance_transfer_t for balance transfer document
CREATE TABLE `LM_BALANCE_TRANSFER_T` (`LM_BALANCE_TRANSFER_ID` VARCHAR(60) NOT NULL, `LM_ACCRUAL_CATEGORY_RULES_ID` VARCHAR(60) NULL, `PRINCIPAL_ID` VARCHAR(40) NOT NULL, `TRANSFER_AMOUNT` DECIMAL(10,2) NOT NULL, `DEBITED_ACCRUAL_CATEGORY` VARCHAR(15) NOT NULL, `CREDITED_ACCRUAL_CATEGORY` VARCHAR(15) NULL, `FORFEITED_AMOUNT` DECIMAL(10,2) NULL, `PAYOUT_EARN_CODE` VARCHAR(15) NOT NULL, `EFFECTIVE_DATE` DATE NOT NULL, CONSTRAINT `PK_LM_BALANCE_TRANSFER_T` PRIMARY KEY (`LM_BALANCE_TRANSFER_ID`));

--  Changeset src/main/config/db/1.5.0/db.changelog-201211271627.xml::1::drgodfrey::(Checksum: 3:c3278cb5335e93e72b5298da9d2700ba)
--  removing payout earn code from lm_balance_transfer_t
ALTER TABLE `LM_BALANCE_TRANSFER_T` DROP COLUMN `PAYOUT_EARN_CODE`;

ALTER TABLE `LM_BALANCE_TRANSFER_T` CHANGE `DEBITED_ACCRUAL_CATEGORY` `FROM_ACCRUAL_CATEGORY` VARCHAR(15) NOT NULL;

ALTER TABLE `LM_BALANCE_TRANSFER_T` CHANGE `CREDITED_ACCRUAL_CATEGORY` `TO_ACCRUAL_CATEGORY` VARCHAR(15);

--  Changeset src/main/config/db/1.5.0/db.changelog-201211291227.xml::1::kbtaylor::(Checksum: 3:1ca261631c4ad40e617858dde88dd243)
--  KPME-1939: Removing old batch tables
DROP TABLE `TK_BATCH_JOB_ENTRY_T`;

DROP TABLE `TK_BATCH_JOB_T`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201211291227.xml::1-mysql::kbtaylor::(Checksum: 3:5a5a6df52021d8255329826119380863)
--  KPME-1939: Removing old batch tables
DROP TABLE `TK_BATCH_JOB_ENTRY_S`;

DROP TABLE `TK_BATCH_JOB_S`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201211291227.xml::2::kbtaylor::(Checksum: 3:bc1f41708c0a9d44039e0b4d80e7efb5)
--  KPME-1939: Merging date and time columns for batch calendar entries
ALTER TABLE `HR_CALENDAR_ENTRIES_T` ADD `BATCH_INITIATE_DATE` DATETIME;

ALTER TABLE `HR_CALENDAR_ENTRIES_T` ADD `BATCH_END_PAY_PERIOD_DATE` DATETIME;

ALTER TABLE `HR_CALENDAR_ENTRIES_T` ADD `BATCH_EMPLOYEE_APPROVAL_DATE` DATETIME;

ALTER TABLE `HR_CALENDAR_ENTRIES_T` ADD `BATCH_SUPERVISOR_APPROVAL_DATE` DATETIME;

--  Changeset src/main/config/db/1.5.0/db.changelog-201211291227.xml::3-mysql::kbtaylor::(Checksum: 3:a680af84cdc36018960558ea61b662e6)
--  KPME-1939: Merging date and time columns for batch calendar entries
UPDATE `HR_CALENDAR_ENTRIES_T` SET `BATCH_EMPLOYEE_APPROVAL_DATE` = TIMESTAMP(EMPLOYEE_APPROVAL_DATE, EMPLOYEE_APPROVAL_TIME), `BATCH_END_PAY_PERIOD_DATE` = TIMESTAMP(END_PAY_PERIOD_DATE, END_PAY_PERIOD_TIME), `BATCH_INITIATE_DATE` = TIMESTAMP(INITIATE_DATE, INITIATE_TIME), `BATCH_SUPERVISOR_APPROVAL_DATE` = TIMESTAMP(SUPERVISOR_APPROVAL_DATE, SUPERVISOR_APPROVAL_TIME);

--  Changeset src/main/config/db/1.5.0/db.changelog-201211291227.xml::4::kbtaylor::(Checksum: 3:de8cd2302f6222b0875254031a60d1cf)
--  KPME-1939: Merging date and time columns for batch calendar entries
ALTER TABLE `HR_CALENDAR_ENTRIES_T` DROP COLUMN `INITIATE_DATE`;

ALTER TABLE `HR_CALENDAR_ENTRIES_T` DROP COLUMN `INITIATE_TIME`;

ALTER TABLE `HR_CALENDAR_ENTRIES_T` DROP COLUMN `END_PAY_PERIOD_DATE`;

ALTER TABLE `HR_CALENDAR_ENTRIES_T` DROP COLUMN `END_PAY_PERIOD_TIME`;

ALTER TABLE `HR_CALENDAR_ENTRIES_T` DROP COLUMN `EMPLOYEE_APPROVAL_DATE`;

ALTER TABLE `HR_CALENDAR_ENTRIES_T` DROP COLUMN `EMPLOYEE_APPROVAL_TIME`;

ALTER TABLE `HR_CALENDAR_ENTRIES_T` DROP COLUMN `SUPERVISOR_APPROVAL_DATE`;

ALTER TABLE `HR_CALENDAR_ENTRIES_T` DROP COLUMN `SUPERVISOR_APPROVAL_TIME`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201212030954.xml::1::jjhanso::(Checksum: 3:2a5a2b46a988fbaad56c78ff0fdd7c88)
--  create lm_balance_transfer_t for balance transfer document
CREATE TABLE `LM_LEAVE_REQ_DOC_T` (`DOC_HDR_ID` VARCHAR(40) NOT NULL, `LM_LEAVE_BLOCK_ID` VARCHAR(60) NULL, `ACTION_CD` VARCHAR(1) NULL, `DESCR` VARCHAR(255) NULL, `OBJ_ID` VARCHAR(36) NULL, `VER_NBR` DECIMAL(8,0) DEFAULT 1 NOT NULL, CONSTRAINT `PK_LM_LEAVE_REQ_DOC_T` PRIMARY KEY (`DOC_HDR_ID`));

--  Changeset src/main/config/db/1.5.0/db.changelog-201212030954.xml::2::jjhanso::(Checksum: 3:7df1f95e6dfb5a0fcea4c859e54afe19)
ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `LEAVE_REQUEST_ID` VARCHAR(40);

--  Changeset src/main/config/db/1.5.0/db.changelog-201301091752.xml::1-mysql::tvisnius::(Checksum: 3:03f6191a31ac8cb47d13956ea5a7e714)
--  create lm_leave_payout_s for leave payout document
CREATE TABLE LM_LEAVE_PAYOUT_S (
                ID BIGINT NOT NULL AUTO_INCREMENT, PRIMARY KEY (ID) 
            ) ENGINE MyISAM;

ALTER TABLE LM_LEAVE_PAYOUT_S AUTO_INCREMENT = 10000;

--  Changeset src/main/config/db/1.5.0/db.changelog-201301091752.xml::2::tvisnius::(Checksum: 3:526789bb8a3007ebd745d598e0065389)
--  create lm_leave_payout_t for leave payout document
CREATE TABLE `LM_LEAVE_PAYOUT_T` (`LM_LEAVE_PAYOUT_ID` VARCHAR(60) NOT NULL, `PRINCIPAL_ID` VARCHAR(40) NOT NULL, `EARN_CODE` VARCHAR(60) NOT NULL, `EFFECTIVE_DATE` DATE NOT NULL, `FROM_ACCRUAL_CATEGORY` VARCHAR(15) NOT NULL, `PAYOUT_AMOUNT` DECIMAL(10,2) NOT NULL, `FORFEITED_AMOUNT` DECIMAL(10,2) NULL, CONSTRAINT `PK_LM_LEAVE_PAYOUT_T` PRIMARY KEY (`LM_LEAVE_PAYOUT_ID`));

--  Changeset src/main/config/db/1.5.0/db.changelog-201301181054.xml::2::dgodfrey::(Checksum: 3:b8a21eb308c74dec81341680a54913b0)
ALTER TABLE `LM_BALANCE_TRANSFER_T` ADD `AMOUNT_TRANSFERRED` DECIMAL(20);

--  Changeset src/main/config/db/1.5.0/db.changelog-201301301000.xml::1::yingzhou::(Checksum: 3:55c480ab4600712024554da6c2a0709d)
ALTER TABLE `LM_SYS_SCHD_TIMEOFF_T` DROP COLUMN `EXP_DT`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302052120.xml::1::jkakkad::(Checksum: 3:34dce08112a9ea41d0a6db55e0d5f688)
ALTER TABLE `LM_LEAVE_PLAN_T` ADD `BATCH_CARRY_OVER_START_DATE` VARCHAR(5);

ALTER TABLE `LM_LEAVE_PLAN_T` ADD `BATCH_CARRY_OVER_START_TIME` TIME;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302111600.xml::1::yingzhou::(Checksum: 3:99225e0161e42615454d2611e9a4247a)
ALTER TABLE `LM_BALANCE_TRANSFER_T` ADD `SSTO_ID` VARCHAR(60);

--  Changeset src/main/config/db/1.5.0/db.changelog-201302151700.xml::1::dgodfrey::(Checksum: 3:1c721ecb836ad51610ddfda1701dbf16)
ALTER TABLE `LM_BALANCE_TRANSFER_T` ADD `STATUS` VARCHAR(1);

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::1::kbtaylor::(Checksum: 3:44131a85314b0e594ba8d620f50b4746)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
DROP TABLE `QRTZ_CALENDARS`;

DROP TABLE `QRTZ_FIRED_TRIGGERS`;

DROP TABLE `QRTZ_TRIGGER_LISTENERS`;

DROP TABLE `QRTZ_BLOB_TRIGGERS`;

DROP TABLE `QRTZ_CRON_TRIGGERS`;

DROP TABLE `QRTZ_SIMPLE_TRIGGERS`;

DROP TABLE `QRTZ_TRIGGERS`;

DROP TABLE `QRTZ_JOB_LISTENERS`;

DROP TABLE `QRTZ_JOB_DETAILS`;

DROP TABLE `QRTZ_PAUSED_TRIGGER_GRPS`;

DROP TABLE `QRTZ_SCHEDULER_STATE`;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::2::kbtaylor::(Checksum: 3:debc3fa6f24d7fcf5c99582d67c651ed)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE TABLE `QRTZ_JOB_DETAILS` (`JOB_NAME` VARCHAR(200) NOT NULL, `JOB_GROUP` VARCHAR(200) NOT NULL, `DESCRIPTION` VARCHAR(250) NULL, `JOB_CLASS_NAME` VARCHAR(250) NOT NULL, `IS_DURABLE` VARCHAR(1) NOT NULL, `IS_VOLATILE` VARCHAR(1) NOT NULL, `IS_STATEFUL` VARCHAR(1) NOT NULL, `REQUESTS_RECOVERY` VARCHAR(1) NOT NULL, `JOB_DATA` LONGBLOB NULL, CONSTRAINT `PK_QRTZ_JOB_DETAILS` PRIMARY KEY (`JOB_NAME`, `JOB_GROUP`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::3::kbtaylor::(Checksum: 3:6bf259aca874221dde8886443f79c754)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE TABLE `QRTZ_JOB_LISTENERS` (`JOB_NAME` VARCHAR(200) NOT NULL, `JOB_GROUP` VARCHAR(200) NOT NULL, `JOB_LISTENER` VARCHAR(200) NOT NULL, CONSTRAINT `PK_QRTZ_JOB_LISTENERS` PRIMARY KEY (`JOB_NAME`, `JOB_GROUP`, `JOB_LISTENER`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::4::kbtaylor::(Checksum: 3:cd40bf58af30d6905b22e84895e713ee)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE TABLE `QRTZ_TRIGGERS` (`TRIGGER_NAME` VARCHAR(200) NOT NULL, `TRIGGER_GROUP` VARCHAR(200) NOT NULL, `JOB_NAME` VARCHAR(200) NOT NULL, `JOB_GROUP` VARCHAR(200) NOT NULL, `IS_VOLATILE` VARCHAR(1) NOT NULL, `DESCRIPTION` VARCHAR(250) NULL, `NEXT_FIRE_TIME` DECIMAL(13,0) NULL, `PREV_FIRE_TIME` DECIMAL(13,0) NULL, `PRIORITY` DECIMAL(13,0) NULL, `TRIGGER_STATE` VARCHAR(16) NOT NULL, `TRIGGER_TYPE` VARCHAR(8) NOT NULL, `START_TIME` DECIMAL(13,0) NOT NULL, `END_TIME` DECIMAL(13,0) NULL, `CALENDAR_NAME` VARCHAR(200) NULL, `MISFIRE_INSTR` DECIMAL(2,0) NULL, `JOB_DATA` LONGBLOB NULL, CONSTRAINT `PK_QRTZ_TRIGGERS` PRIMARY KEY (`TRIGGER_NAME`, `TRIGGER_GROUP`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::5::kbtaylor::(Checksum: 3:8f3384de7dd51dd7fa3748a8f519ebc1)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE TABLE `QRTZ_SIMPLE_TRIGGERS` (`TRIGGER_NAME` VARCHAR(200) NOT NULL, `TRIGGER_GROUP` VARCHAR(200) NOT NULL, `REPEAT_COUNT` DECIMAL(7,0) NOT NULL, `REPEAT_INTERVAL` DECIMAL(12,0) NOT NULL, `TIMES_TRIGGERED` DECIMAL(10,0) NOT NULL, CONSTRAINT `PK_QRTZ_SIMPLE_TRIGGERS` PRIMARY KEY (`TRIGGER_NAME`, `TRIGGER_GROUP`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::6::kbtaylor::(Checksum: 3:0c16702e66953e7e6d48d220115b9115)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE TABLE `QRTZ_CRON_TRIGGERS` (`TRIGGER_NAME` VARCHAR(200) NOT NULL, `TRIGGER_GROUP` VARCHAR(200) NOT NULL, `CRON_EXPRESSION` VARCHAR(120) NOT NULL, `TIME_ZONE_ID` VARCHAR(80) NULL, CONSTRAINT `PK_QRTZ_CRON_TRIGGERS` PRIMARY KEY (`TRIGGER_NAME`, `TRIGGER_GROUP`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::7::kbtaylor::(Checksum: 3:6bff2eda4f8c6f71a25d4421538f9724)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE TABLE `QRTZ_BLOB_TRIGGERS` (`TRIGGER_NAME` VARCHAR(200) NOT NULL, `TRIGGER_GROUP` VARCHAR(200) NOT NULL, `BLOB_DATA` LONGBLOB NULL, CONSTRAINT `PK_QRTZ_BLOB_TRIGGERS` PRIMARY KEY (`TRIGGER_NAME`, `TRIGGER_GROUP`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::8::kbtaylor::(Checksum: 3:37b184e790e00090022f58f4fe6c944b)
CREATE TABLE `QRTZ_TRIGGER_LISTENERS` (`TRIGGER_NAME` VARCHAR(200) NOT NULL, `TRIGGER_GROUP` VARCHAR(200) NOT NULL, `TRIGGER_LISTENER` VARCHAR(200) NOT NULL, CONSTRAINT `PK_QRTZ_TRIGGER_LISTENERS` PRIMARY KEY (`TRIGGER_NAME`, `TRIGGER_GROUP`, `TRIGGER_LISTENER`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::9::kbtaylor::(Checksum: 3:f504490b292a9b7f60ee62f9a67a8a54)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE TABLE `QRTZ_CALENDARS` (`CALENDAR_NAME` VARCHAR(200) NOT NULL, `CALENDAR` LONGBLOB NOT NULL, CONSTRAINT `PK_QRTZ_CALENDARS` PRIMARY KEY (`CALENDAR_NAME`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::10::kbtaylor::(Checksum: 3:a6a9159ba7fb485bf2b75d20bfc6834d)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE TABLE `QRTZ_PAUSED_TRIGGER_GRPS` (`TRIGGER_GROUP` VARCHAR(200) NOT NULL, CONSTRAINT `PK_QRTZ_PAUSED_TRIGGER_GRPS` PRIMARY KEY (`TRIGGER_GROUP`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::11::kbtaylor::(Checksum: 3:e24d5d4563b279f29290b10c0d8d5450)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE TABLE `QRTZ_FIRED_TRIGGERS` (`ENTRY_ID` VARCHAR(95) DEFAULT '' NOT NULL, `TRIGGER_NAME` VARCHAR(200) NOT NULL, `TRIGGER_GROUP` VARCHAR(200) NOT NULL, `IS_VOLATILE` VARCHAR(1) NOT NULL, `INSTANCE_NAME` VARCHAR(200) NOT NULL, `FIRED_TIME` DECIMAL(13,0) NOT NULL, `PRIORITY` DECIMAL(13,0) NOT NULL, `STATE` VARCHAR(16) NOT NULL, `JOB_NAME` VARCHAR(200) NULL, `JOB_GROUP` VARCHAR(200) NULL, `IS_STATEFUL` VARCHAR(1) NULL, `REQUESTS_RECOVERY` VARCHAR(1) NULL, CONSTRAINT `PK_QRTZ_FIRED_TRIGGERS` PRIMARY KEY (`ENTRY_ID`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::12::kbtaylor::(Checksum: 3:c3a8333897a78475100b2230de728424)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE TABLE `QRTZ_SCHEDULER_STATE` (`INSTANCE_NAME` VARCHAR(200) NOT NULL, `LAST_CHECKIN_TIME` DECIMAL(13,0) NOT NULL, `CHECKIN_INTERVAL` DECIMAL(13,0) NOT NULL, CONSTRAINT `PK_QRTZ_SCHEDULER_STATE` PRIMARY KEY (`INSTANCE_NAME`)) ENGINE INNODB;

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::13::kbtaylor::(Checksum: 3:6fe69e56caf3881985a622793fe75984)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
ALTER TABLE `QRTZ_JOB_LISTENERS` ADD CONSTRAINT `QRTZ_JOB_LISTENERS_FK1` FOREIGN KEY (`JOB_NAME`, `JOB_GROUP`) REFERENCES `QRTZ_JOB_DETAILS` (`JOB_NAME`, `JOB_GROUP`);

ALTER TABLE `QRTZ_TRIGGERS` ADD CONSTRAINT `QRTZ_TRIGGERS_FK1` FOREIGN KEY (`JOB_NAME`, `JOB_GROUP`) REFERENCES `QRTZ_JOB_DETAILS` (`JOB_NAME`, `JOB_GROUP`);

ALTER TABLE `QRTZ_SIMPLE_TRIGGERS` ADD CONSTRAINT `QRTZ_SIMPLE_TRIGGERS_FK1` FOREIGN KEY (`TRIGGER_NAME`, `TRIGGER_GROUP`) REFERENCES `QRTZ_TRIGGERS` (`TRIGGER_NAME`, `TRIGGER_GROUP`);

ALTER TABLE `QRTZ_CRON_TRIGGERS` ADD CONSTRAINT `QRTZ_CRON_TRIGGERS_FK1` FOREIGN KEY (`TRIGGER_NAME`, `TRIGGER_GROUP`) REFERENCES `QRTZ_TRIGGERS` (`TRIGGER_NAME`, `TRIGGER_GROUP`);

ALTER TABLE `QRTZ_BLOB_TRIGGERS` ADD CONSTRAINT `QRTZ_BLOB_TRIGGERS_FK1` FOREIGN KEY (`TRIGGER_NAME`, `TRIGGER_GROUP`) REFERENCES `QRTZ_TRIGGERS` (`TRIGGER_NAME`, `TRIGGER_GROUP`);

ALTER TABLE `QRTZ_TRIGGER_LISTENERS` ADD CONSTRAINT `QRTZ_TRIGGER_LISTENERS_FK1` FOREIGN KEY (`TRIGGER_NAME`, `TRIGGER_GROUP`) REFERENCES `QRTZ_TRIGGERS` (`TRIGGER_NAME`, `TRIGGER_GROUP`);

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181258.xml::14::kbtaylor::(Checksum: 3:1eef8f7becf9080ef26ee4bc11931066)
--  KPME-2184: Updating Quartz tables to 1.8.4 standards
CREATE INDEX `IDX_QRTZ_J_REQ_RECOVERY` ON `QRTZ_JOB_DETAILS`(`REQUESTS_RECOVERY`);

CREATE INDEX `IDX_QRTZ_T_NEXT_FIRE_TIME` ON `QRTZ_TRIGGERS`(`NEXT_FIRE_TIME`);

CREATE INDEX `IDX_QRTZ_T_STATE` ON `QRTZ_TRIGGERS`(`TRIGGER_STATE`);

CREATE INDEX `IDX_QRTZ_T_NFT_ST` ON `QRTZ_TRIGGERS`(`NEXT_FIRE_TIME`, `TRIGGER_STATE`);

CREATE INDEX `IDX_QRTZ_T_VOLATILE` ON `QRTZ_TRIGGERS`(`IS_VOLATILE`);

CREATE INDEX `IDX_QRTZ_FT_TRIG_NAME` ON `QRTZ_FIRED_TRIGGERS`(`TRIGGER_NAME`);

CREATE INDEX `IDX_QRTZ_FT_TRIG_GROUP` ON `QRTZ_FIRED_TRIGGERS`(`TRIGGER_GROUP`);

CREATE INDEX `IDX_QRTZ_FT_TRIG_NM_GP` ON `QRTZ_FIRED_TRIGGERS`(`TRIGGER_NAME`, `TRIGGER_GROUP`);

CREATE INDEX `IDX_QRTZ_FT_TRIG_VOLATILE` ON `QRTZ_FIRED_TRIGGERS`(`IS_VOLATILE`);

CREATE INDEX `IDX_QRTZ_FT_TRIG_INST_NAME` ON `QRTZ_FIRED_TRIGGERS`(`INSTANCE_NAME`);

CREATE INDEX `IDX_QRTZ_FT_JOB_NAME` ON `QRTZ_FIRED_TRIGGERS`(`JOB_NAME`);

CREATE INDEX `IDX_QRTZ_FT_JOB_GROUP` ON `QRTZ_FIRED_TRIGGERS`(`JOB_GROUP`);

CREATE INDEX `IDX_QRTZ_FT_JOB_STATEFUL` ON `QRTZ_FIRED_TRIGGERS`(`IS_STATEFUL`);

CREATE INDEX `IDX_QRTZ_FT_JOB_REQ_RECOVERY` ON `QRTZ_FIRED_TRIGGERS`(`REQUESTS_RECOVERY`);

--  Changeset src/main/config/db/1.5.0/db.changelog-201302181500.xml::1::dgodfrey::(Checksum: 3:0b9f5e55bf8a529800a7a9679ff3ecb8)
ALTER TABLE `LM_LEAVE_PAYOUT_T` ADD `STATUS` VARCHAR(1);

--  Changeset src/main/config/db/1.5.0/db.changelog-201302191135.xml::1::dgodfrey::(Checksum: 3:346d6a0ff6cac13c0bb657d4e1514c93)
ALTER TABLE `LM_LEAVE_BLOCK_T` ADD `TRANS_DOC_ID` VARCHAR(40);
